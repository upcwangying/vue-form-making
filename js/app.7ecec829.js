!function(e){function t(t){for(var i,n,s=t[0],r=t[1],d=t[2],u=0,p=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&p.push(l[n][0]),l[n]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);for(c&&c(t);p.length;)p.shift()();return o.push.apply(o,d||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],i=!0,s=1;s<a.length;s++){var r=a[s];0!==l[r]&&(i=!1)}i&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var i={},l={app:0},o=[];function n(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=i,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/vue-form-making/";var s=window.webpackJsonp=window.webpackJsonp||[],r=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var c=r;o.push([0,"chunk-vendors"]),a()}({0:function(e,t,a){e.exports=a("56d7")},"08e7":function(e,t,a){"use strict";var i=a("3d09");a.n(i).a},"0f59":function(e,t,a){},"11d7":function(e,t,a){"use strict";var i=a("df36");a.n(i).a},"2bd0":function(e,t,a){},"32f9":function(e,t,a){"use strict";var i=a("7987");a.n(i).a},3516:function(e,t,a){"use strict";var i=a("ca11");a.n(i).a},"395d":function(e,t,a){"use strict";var i=a("5023");a.n(i).a},"3d09":function(e,t,a){},"3eeb":function(e,t,a){"use strict";var i=a("2bd0");a.n(i).a},4020:function(e,t,a){"use strict";var i=a("bc3a"),l=a.n(i),o=a("4328"),n=a.n(o),s=a("a78e"),r=a.n(s),d=a("b383"),c=l.a.create({baseURL:"/prod-api",withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8","x-requested-with":"XMLHttpRequest"},transformRequest:[function(e){return d.stringify(e)}],paramsSerializer:function(e){return n.a.stringify(e,{indices:!1})}});c.interceptors.request.use((function(e){var t=r.a.get("AQSC-Token");return e.headers.Authorization="Bearer ".concat(t),e}),(function(e){return Promise.reject(new Error(e).message)})),c.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(new Error(e).message)})),t.a=c},"4d7f":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("8e6e"),core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es7_object_get_own_property_descriptors__WEBPACK_IMPORTED_MODULE_0__),_home_travis_build_upcwangying_vue_form_making_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("bd86"),_home_travis_build_upcwangying_vue_form_making_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("75fc"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("456d"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__),_GenerateFormItem__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("5531");function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach((function(t){Object(_home_travis_build_upcwangying_vue_form_making_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}__webpack_exports__.a={name:"fm-generate-form",components:{GenerateFormItem:_GenerateFormItem__WEBPACK_IMPORTED_MODULE_5__.a},props:["data","remote","value","insite"],data:function(){return{models:{},rules:{}}},created:function(){this.generateModule(this.data.list)},mounted:function(){},methods:{generateModule:function generateModule(genList){for(var _this=this,i=0;i<genList.length;i++)if("grid"===genList[i].type)genList[i].columns.forEach((function(e){_this.generateModule(e.list)}));else{if(this.value&&Object.keys(this.value).indexOf(genList[i].model)>=0)this.models[genList[i].model]=this.value[genList[i].model];else if("blank"===genList[i].type)this.$set(this.models,genList[i].model,"String"===genList[i].options.defaultType?"":"Object"===genList[i].options.defaultType?{}:[]);else if("table"===genList[i].type){var originRows=JSON.parse(JSON.stringify(genList[i].rows));for(var originRowsIndex in originRows)originRows[originRowsIndex].isColumnHeader&&delete originRows[originRowsIndex];this.models[genList[i].model]=originRows.filter((function(e){return!!e}))}else this.models[genList[i].model]=genList[i].options.defaultValue;this.rules[genList[i].model]?this.rules[genList[i].model]=[].concat(Object(_home_travis_build_upcwangying_vue_form_making_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(this.rules[genList[i].model]),Object(_home_travis_build_upcwangying_vue_form_making_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(genList[i].rules.map((function(item){return item.pattern?_objectSpread(_objectSpread({},item),{},{pattern:eval(item.pattern)}):_objectSpread({},item)})))):this.rules[genList[i].model]=Object(_home_travis_build_upcwangying_vue_form_making_node_modules_babel_runtime_corejs2_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(genList[i].rules.map((function(item){return item.pattern?_objectSpread(_objectSpread({},item),{},{pattern:eval(item.pattern)}):_objectSpread({},item)})))}},getData:function(){var e=this;return new Promise((function(t,a){e.$refs.generateForm.validate((function(i){i?t(e.models):a(new Error(e.$t("fm.message.validError")).message)}))}))},reset:function(){this.$refs.generateForm.resetFields()},onInputChange:function(e,t){this.$emit("on-change",t,e,this.models)},refresh:function(){}},watch:{data:{deep:!0,handler:function(e){this.generateModule(e.list)}},value:{deep:!0,handler:function(e){this.models=_objectSpread(_objectSpread({},this.models),e)}}}}},"4e97":function(e,t,a){},5023:function(e,t,a){},"537b":function(e,t,a){},5531:function(e,t,a){"use strict";a("8e6e"),a("ac6a"),a("456d");var i=a("bd86"),l=a("c7f0"),o=a("94ed");function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r={props:["widget","models","rules","remote"],components:{FmUpload:l.a,JizuComponent:o.a},data:function(){return{dataModel:this.models[this.widget.model]}},created:function(){var e=this;this.widget.options.remote&&this.remote[this.widget.options.remoteFunc]&&this.remote[this.widget.options.remoteFunc]((function(t){e.widget.options.remoteOptions=t.map((function(t){return{value:t[e.widget.options.props.value],label:t[e.widget.options.props.label],children:t[e.widget.options.props.children]}}))})),"imgupload"===this.widget.type&&this.widget.options.isQiniu&&this.remote[this.widget.options.tokenFunc]((function(t){e.widget.options.token=t}))},methods:{},watch:{dataModel:{deep:!0,handler:function(e){this.models[this.widget.model]=e,this.$emit("update:models",s(s({},this.models),{},Object(i.a)({},this.widget.model,e))),this.$emit("input-change",e,this.widget.model)}},models:{deep:!0,handler:function(e){this.dataModel=e[this.widget.model]}}}},d=a("2877"),c=Object(d.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form-item",{attrs:{prop:e.widget.model,label:"table"===e.widget.type?"":e.widget.name,"label-width":"table"===e.widget.type?"0px":"auto"}},["jizu"===e.widget.type?[a("jizu-component")]:e._e(),"input"==e.widget.type?["number"==e.widget.options.dataType||"integer"==e.widget.options.dataType||"float"==e.widget.options.dataType?a("el-input",{style:{width:e.widget.options.width},attrs:{type:"number",placeholder:e.widget.options.placeholder,disabled:e.widget.options.disabled},model:{value:e.dataModel,callback:function(t){e.dataModel=e._n(t)},expression:"dataModel"}}):a("el-input",{style:{width:e.widget.options.width},attrs:{type:e.widget.options.dataType,disabled:e.widget.options.disabled,placeholder:e.widget.options.placeholder},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"textarea"==e.widget.type?[a("el-input",{style:{width:e.widget.options.width},attrs:{type:"textarea",rows:5,disabled:e.widget.options.disabled,placeholder:e.widget.options.placeholder},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"number"==e.widget.type?[a("el-input-number",{style:{width:e.widget.options.width},attrs:{step:e.widget.options.step,"controls-position":"right",disabled:e.widget.options.disabled,min:e.widget.options.min,max:e.widget.options.max},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"radio"==e.widget.type?[a("el-radio-group",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}},e._l(e.widget.options.remote?e.widget.options.remoteOptions:e.widget.options.options,(function(t,i){return a("el-radio",{key:i,style:{display:e.widget.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e.widget.options.remote?[e._v(e._s(t.label))]:[e._v(e._s(e.widget.options.showLabel?t.label:t.value))]],2)})),1)]:e._e(),"checkbox"==e.widget.type?[a("el-checkbox-group",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}},e._l(e.widget.options.remote?e.widget.options.remoteOptions:e.widget.options.options,(function(t,i){return a("el-checkbox",{key:i,style:{display:e.widget.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e.widget.options.remote?[e._v(e._s(t.label))]:[e._v(e._s(e.widget.options.showLabel?t.label:t.value))]],2)})),1)]:e._e(),"time"==e.widget.type?[a("el-time-picker",{style:{width:e.widget.options.width},attrs:{"is-range":e.widget.options.isRange,placeholder:e.widget.options.placeholder,"start-placeholder":e.widget.options.startPlaceholder,"end-placeholder":e.widget.options.endPlaceholder,readonly:e.widget.options.readonly,disabled:e.widget.options.disabled,editable:e.widget.options.editable,clearable:e.widget.options.clearable,arrowControl:e.widget.options.arrowControl,"value-format":e.widget.options.format},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"date"==e.widget.type?[a("el-date-picker",{style:{width:e.widget.options.width},attrs:{type:e.widget.options.type,placeholder:e.widget.options.placeholder,"start-placeholder":e.widget.options.startPlaceholder,"end-placeholder":e.widget.options.endPlaceholder,readonly:e.widget.options.readonly,disabled:e.widget.options.disabled,editable:e.widget.options.editable,clearable:e.widget.options.clearable,"value-format":e.widget.options.timestamp?"timestamp":e.widget.options.format,format:e.widget.options.format},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"rate"==e.widget.type?[a("el-rate",{attrs:{max:e.widget.options.max,disabled:e.widget.options.disabled,"allow-half":e.widget.options.allowHalf},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"color"==e.widget.type?[a("el-color-picker",{attrs:{disabled:e.widget.options.disabled,"show-alpha":e.widget.options.showAlpha},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"select"==e.widget.type?[a("el-select",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled,multiple:e.widget.options.multiple,clearable:e.widget.options.clearable,placeholder:e.widget.options.placeholder,filterable:e.widget.options.filterable},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}},e._l(e.widget.options.remote?e.widget.options.remoteOptions:e.widget.options.options,(function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:e.widget.options.showLabel||e.widget.options.remote?t.label:t.value}})})),1)]:e._e(),"switch"==e.widget.type?[a("el-switch",{attrs:{disabled:e.widget.options.disabled},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"slider"==e.widget.type?[a("el-slider",{style:{width:e.widget.options.width},attrs:{min:e.widget.options.min,max:e.widget.options.max,disabled:e.widget.options.disabled,step:e.widget.options.step,"show-input":e.widget.options.showInput,range:e.widget.options.range},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"imgupload"==e.widget.type?[a("fm-upload",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled,width:e.widget.options.size.width,height:e.widget.options.size.height,token:e.widget.options.token,domain:e.widget.options.domain,multiple:e.widget.options.multiple,length:e.widget.options.length,"is-qiniu":e.widget.options.isQiniu,"is-delete":e.widget.options.isDelete,min:e.widget.options.min,"is-edit":e.widget.options.isEdit,action:e.widget.options.action},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"editor"==e.widget.type?[a("vue-editor",{style:{width:e.widget.options.width},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"cascader"==e.widget.type?[a("el-cascader",{style:{width:e.widget.options.width},attrs:{disabled:e.widget.options.disabled,clearable:e.widget.options.clearable,placeholder:e.widget.options.placeholder,options:e.widget.options.remoteOptions},model:{value:e.dataModel,callback:function(t){e.dataModel=t},expression:"dataModel"}})]:e._e(),"table"===e.widget.type?[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.widget.rows,height:e.widget.options.height,border:e.widget.options.border,stripe:e.widget.options.stripe,fit:e.widget.options.fit,"show-header":e.widget.options.showHeader,"highlight-current-row":e.widget.options.highlightCurrentRow,"show-summary":e.widget.options.showSummary}},[e._l(e.widget.columns,(function(t){return[a("el-table-column",{key:t.label,attrs:{prop:t.prop,label:t.label,width:t.width},scopedSlots:e._u([{key:"default",fn:function(i){var l=i.row;return[a("el-input",{attrs:{placeholder:"请输入",size:"small"},model:{value:l[t.prop],callback:function(a){e.$set(l,t.prop,a)},expression:"row[column.prop]"}})]}}],null,!0)})]}))],2)]:e._e(),"text"==e.widget.type?[a("span",[e._v(e._s(e.dataModel))])]:e._e()],2)}),[],!1,null,null,null);t.a=c.exports},"56d7":function(e,t,a){"use strict";a.r(t),a("8e6e"),a("ac6a"),a("456d");var i=a("bd86"),l=(a("cadf"),a("551c"),a("f751"),a("097d"),a("2b0e")),o=(a("7f7f"),a("a481"),{name:"app",methods:{handleHome:function(){this.$router.push({path:"/"})},handleLangCommand:function(e){this.$router.replace({name:this.$route.name,params:{lang:e}})}}}),n=(a("5c0b"),a("2877")),s=Object(n.a)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"fm-header"},[i("img",{staticClass:"fm-logo",attrs:{src:a("cf05")}}),i("div",{staticClass:"fm-title",on:{click:e.handleHome}},[e._v(e._s(e.$t("header.title")))]),i("iframe",{staticStyle:{"vertical-align":"middle","margin-top":"10px","margin-left":"10px"},attrs:{src:"https://img.shields.io/travis/upcwangying/vue-form-making",frameborder:"0",scrolling:"0",width:"100px",height:"30px"}}),i("div",{staticClass:"fm-link"},[i("a",{attrs:{target:"_blank",href:"http://form.xiaoyaoji.cn/pricing"}},[e._v(e._s(e.$t("header.pricing")))]),"zh-CN"===e.$lang?i("a",{attrs:{target:"_blank",href:"https://gitee.com/gavinzhulei/vue-form-making/blob/master/README.zh-CN.md"}},[e._v(e._s(e.$t("header.document")))]):e._e(),"en-US"===e.$lang?i("a",{attrs:{target:"_blank",href:"https://github.com/GavinZhuLei/vue-form-making/blob/master/README.md"}},[e._v(e._s(e.$t("header.document")))]):e._e(),i("a",{attrs:{target:"_blank",href:"https://github.com/upcwangying/vue-form-making"}},[e._v("GitHub")]),i("div",{staticClass:"action-item"},[i("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleLangCommand}},[i("span",{staticClass:"el-dropdown-link"},[e._v("\n            "+e._s("zh-CN"===e.$route.params.lang?"简体中文":"English")),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"zh-CN"}},[e._v("简体中文")]),i("el-dropdown-item",{attrs:{command:"en-US"}},[e._v("English")])],1)],1)],1),i("a",{staticClass:"ad",attrs:{href:"http://form.xiaoyaoji.cn",target:"_blank"}},[e._v(e._s(e.$t("header.advanced")))])])]),i("div",{staticClass:"fm-container"},[i("router-view")],1)])}),[],!1,null,null,null).exports,r=a("8c4f"),d={mounted:function(){}},c=Object(n.a)(d,(function(){var e=this.$createElement,t=this._self._c||e;return t("fm-making-form",{ref:"makingForm",attrs:{upload:"","generate-code":"","generate-json":"",clearable:""}},[t("template",{slot:"action"})],2)}),[],!1,null,null,null).exports,u={created:function(){this.loadLanguage()},methods:{loadLanguage:function(){"zh-CN"===this.$route.params.lang?(l.default.config.lang="zh-CN",localStorage.setItem("language","zh-CN")):"en-US"===this.$route.params.lang?(l.default.config.lang="en-US",localStorage.setItem("language","en-US")):this.$router.replace({name:this.$route.name,params:{lang:"zh-CN"===navigator.language?"zh-CN":"en-US"}})}},watch:{"$route.params.lang":function(e){this.loadLanguage()}}},p=Object(n.a)(u,(function(){var e=this.$createElement;return(this._self._c||e)("router-view")}),[],!1,null,null,null).exports;l.default.use(r.a);var m=localStorage.getItem("language")||("zh-CN"===navigator.language?"zh-CN":"en-US"),b=new r.a({routes:[{path:"/",redirect:function(e){return{name:"index",params:{lang:m}}}},{path:"/:lang",component:p,children:[{path:"",name:"index",component:c}]}]}),f=a("5c96"),h=a.n(f),g=a("08a3"),w=a.n(g),y=a("5873"),v=(a("0fae"),a("b2d6")),_=a.n(v),x=a("f0d9"),k=a.n(x),z=(a("f5df"),a("ac4d"),a("8a81"),a("1c4c"),a("6b54"),a("6762"),a("2fdb"),a("768b")),j=(a("5df3"),a("75fc")),C=a("310e"),O=a.n(C),$=[{type:"input",icon:"icon-input",options:{width:"100%",defaultValue:"",required:!1,dataType:"string",pattern:"",placeholder:"",disabled:!1,datasource:"TPRI_VUE",table:"TPRI_DMP_REPORT_DATA_TEST",field:"value"}},{type:"textarea",icon:"icon-diy-com-textarea",options:{width:"100%",defaultValue:"",required:!1,disabled:!1,pattern:"",placeholder:"",datasource:"TPRI_VUE",table:"TPRI_DMP_REPORT_DATA_TEST",field:"value"}},{type:"number",icon:"icon-number",options:{width:"",required:!1,defaultValue:0,min:"",max:"",step:1,disabled:!1,controlsPosition:"",datasource:"TPRI_VUE",table:"TPRI_DMP_REPORT_DATA_TEST",field:"value"}},{type:"radio",icon:"icon-radio-active",options:{inline:!1,defaultValue:"",showLabel:!1,options:[{value:"Option 1",label:"Option 1"},{value:"Option 2",label:"Option 2"},{value:"Option 3",label:"Option 3"}],required:!1,width:"",remote:!1,remoteOptions:[],props:{value:"value",label:"label"},remoteFunc:"",disabled:!1,datasource:"TPRI_VUE",table:"TPRI_DMP_REPORT_DATA_TEST",field:"value"}},{type:"checkbox",icon:"icon-check-box",options:{inline:!1,defaultValue:[],showLabel:!1,options:[{value:"Option 1"},{value:"Option 2"},{value:"Option 3"}],required:!1,width:"",remote:!1,remoteOptions:[],props:{value:"value",label:"label"},remoteFunc:"",disabled:!1,datasource:"TPRI_VUE",table:"TPRI_DMP_REPORT_DATA_TEST",field:"value"}},{type:"time",icon:"icon-time",options:{defaultValue:"21:19:56",readonly:!1,disabled:!1,editable:!0,clearable:!0,placeholder:"",startPlaceholder:"",endPlaceholder:"",isRange:!1,arrowControl:!0,format:"HH:mm:ss",required:!1,width:"",datasource:"TPRI_VUE",table:"TPRI_DMP_REPORT_DATA_TEST",field:"value"}},{type:"date",icon:"icon-date",options:{defaultValue:"",readonly:!1,disabled:!1,editable:!0,clearable:!0,placeholder:"",startPlaceholder:"",endPlaceholder:"",type:"date",format:"yyyy-MM-dd",timestamp:!1,required:!1,width:"",datasource:"TPRI_VUE",table:"TPRI_DMP_REPORT_DATA_TEST",field:"value"}},{type:"rate",icon:"icon-pingfen1",options:{defaultValue:null,max:5,disabled:!1,allowHalf:!1,required:!1,datasource:"TPRI_VUE",table:"TPRI_DMP_REPORT_DATA_TEST",field:"value"}},{type:"color",icon:"icon-color",options:{defaultValue:"",disabled:!1,showAlpha:!1,required:!1,datasource:"TPRI_VUE",table:"TPRI_DMP_REPORT_DATA_TEST",field:"value"}},{type:"select",icon:"icon-select",options:{defaultValue:"",multiple:!1,disabled:!1,clearable:!1,placeholder:"",required:!1,showLabel:!1,width:"",options:[{value:"Option 1"},{value:"Option 2"},{value:"Option 3"}],remote:!1,filterable:!1,remoteOptions:[],props:{value:"value",label:"label"},remoteFunc:"",datasource:"TPRI_VUE",table:"TPRI_DMP_REPORT_DATA_TEST",field:"value"}},{type:"switch",icon:"icon-switch",options:{defaultValue:!1,required:!1,disabled:!1,datasource:"TPRI_VUE",table:"TPRI_DMP_REPORT_DATA_TEST",field:"value"}},{type:"slider",icon:"icon-slider",options:{defaultValue:0,disabled:!1,required:!1,min:0,max:100,step:1,showInput:!1,range:!1,width:"",datasource:"TPRI_VUE",table:"TPRI_DMP_REPORT_DATA_TEST",field:"value"}},{type:"text",icon:"icon-wenzishezhi-",options:{defaultValue:"This is a text",customClass:"",datasource:"TPRI_VUE",table:"TPRI_DMP_REPORT_DATA_TEST",field:"value"}},{type:"jizu",icon:"",options:{datasource:"TPRI_VUE",table:"TPRI_DMP_REPORT_DATA_TEST",field:"value"}}],T=[{type:"blank",icon:"icon-zidingyishuju",options:{defaultType:"String"}},{type:"imgupload",icon:"icon-tupian",options:{defaultValue:[],size:{width:100,height:100},width:"",tokenFunc:"funcGetToken",token:"",domain:"http://pfp81ptt6.bkt.clouddn.com/",disabled:!1,length:8,multiple:!1,isQiniu:!1,isDelete:!1,min:0,isEdit:!1,action:"https://jsonplaceholder.typicode.com/photos/",datasource:"TPRI_VUE",table:"TPRI_DMP_REPORT_DATA_TEST",field:"value"}},{type:"editor",icon:"icon-fuwenbenkuang",options:{defaultValue:"",width:"",datasource:"TPRI_VUE",table:"TPRI_DMP_REPORT_DATA_TEST",field:"value"}},{type:"cascader",icon:"icon-jilianxuanze",options:{defaultValue:[],width:"",placeholder:"",disabled:!1,clearable:!1,remote:!0,remoteOptions:[],props:{value:"value",label:"label",children:"children"},remoteFunc:"",datasource:"TPRI_VUE",table:"TPRI_DMP_REPORT_DATA_TEST",field:"value"}}],S=[{type:"grid",icon:"icon-grid-",columns:[{span:12,list:[]},{span:12,list:[]}],options:{gutter:0,justify:"start",align:"top"}},{type:"table",icon:"icon-table",columns:[],rows:[],mergeRule:[{startRow:"",startColumn:"",endRow:"",endColumn:""}],options:{datasource:"TPRI_VUE",table:"TPRI_DMP_REPORT_DATA_TEST",dataTransformRules:{rows:{wd_jz:"jzid",wd_sheb:"shebid"},columns:{key:"zbid1",value:"value"}},stripe:!1,height:"300",border:!1,fit:!0,showHeader:!0,highlightCurrentRow:!1,showSummary:!1}}],D=a("b311"),A=a.n(D);function P(e,t,a,i){for(var l=0;l<e.length;l++)"grid"==e[l].type?e[l].columns.forEach((function(e){P(e.list,t,a,i)})):"blank"==e[l].type?e[l].model&&i.push({name:e[l].model,label:e[l].name}):"imgupload"==e[l].type?e[l].options.tokenFunc&&a.push({func:e[l].options.tokenFunc,label:e[l].name,model:e[l].model}):e[l].options.remote&&e[l].options.remoteFunc&&t.push({func:e[l].options.remoteFunc,label:e[l].name,model:e[l].model})}var R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"vue",a=[],i=[],l=[];P(JSON.parse(e).list,a,i,l);for(var o="",n="",s=0;s<a.length;s++)o+="\n            ".concat(a[s].func," (resolve) {\n              // ").concat(a[s].label," ").concat(a[s].model,"\n              // Call callback function once get the data from remote server\n              // resolve(data)\n            },\n    ");for(var r=0;r<i.length;r++)o+="\n            ".concat(i[r].func," (resolve) {\n              // ").concat(i[r].label," ").concat(i[r].model,"\n              // Call callback function once get the token\n              // resolve(token)\n            },\n    ");for(var d=0;d<l.length;d++)n+='\n        <template slot="'.concat(l[d].name,'" slot-scope="scope">\n          \x3c!-- ').concat(l[d].label,' --\x3e\n          \x3c!-- use v-model="scope.model.').concat(l[d].name,'" to bind data --\x3e\n        </template>\n    ');return"vue"==t?'<template>\n  <div>\n    <fm-generate-form :data="jsonData" :remote="remoteFuncs" :value="editData" ref="generateForm">\n      '.concat(n,'\n    </fm-generate-form>\n    <el-button type="primary" @click="handleSubmit">提交</el-button>\n  </div>\n</template>\n\n<script>\n  export default {\n    data () {\n      return {\n        jsonData: ').concat(e,",\n        editData: {},\n        remoteFuncs: {\n          ").concat(o,"\n        }\n      }\n    },\n    methods: {\n      handleSubmit () {\n        this.$refs.generateForm.getData().then(data => {\n          // data check success\n          // data - form data\n        }).catch(e => {\n          // data check failed\n        })\n      }\n    }\n  }\n<\/script>"):'<!DOCTYPE html>\n  <html>\n  <head>\n    <meta charset="UTF-8">\n    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">\n    <link rel="stylesheet" href="https://unpkg.com/form-making/dist/FormMaking.css">\n  </head>\n  <body>\n    <div id="app">\n      <fm-generate-form :data="jsonData" :remote="remoteFuncs" :value="editData" ref="generateForm">\n        '.concat(n,'\n      </fm-generate-form>\n      <el-button type="primary" @click="handleSubmit">提交</el-button>\n    </div>\n    <script src="https://unpkg.com/vue/dist/vue.js"><\/script>\n    <script src="https://unpkg.com/element-ui/lib/index.js"><\/script>\n    <script src="https://unpkg.com/form-making/dist/FormMaking.umd.js"><\/script>\n    <script>\n      new Vue({\n        el: \'#app\',\n        data: {\n          jsonData: ').concat(e,",\n          editData: {},\n          remoteFuncs: {\n            ").concat(o,"\n          }\n        },\n        methods: {\n          handleSubmit () {\n            this.$refs.generateForm.getData().then(data => {\n              // data check success\n              // data - form data\n            }).catch(e => {\n              // data check failed\n            })\n          }\n        }\n      })\n    <\/script>\n  </body>\n  </html>")},E=[{id:1,label:"一级 1",children:[{id:11,label:"二级 1-1",children:[{id:12,label:"三级 1-1-1"},{id:13,label:"三级 1-1-2"}]}]},{id:2,label:"一级 2",children:[{id:21,label:"二级 2-1"},{id:22,label:"二级 2-2"}]},{id:3,label:"一级 3",children:[{id:31,label:"二级 3-1"},{id:32,label:"二级 3-2"}]},{id:4,label:"一级 4",children:[{id:41,label:"二级 4-1"},{id:42,label:"二级 4-2"},{id:43,label:"二级 4-2"}]},{id:5,label:"一级 5",children:[{id:51,label:"二级 5-1"},{id:52,label:"二级 5-2"},{id:53,label:"二级 5-3"},{id:54,label:"二级 5-4"},{id:55,label:"二级 5-5"}]},{id:6,label:"一级 6",children:[{id:61,label:"二级 6-1"},{id:62,label:"二级 6-2"},{id:63,label:"二级 6-3"},{id:64,label:"二级 6-4"},{id:65,label:"二级 6-5"},{id:66,label:"二级 6-6"}]}],F={name:"SheBeiProps",data:function(){return{data:E,defaultProps:{children:"children",label:"label"}}},methods:{filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)}}},V=Object(n.a)(F,(function(){var e=this.$createElement;return(this._self._c||e)("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:this.data,props:this.defaultProps,"default-expand-all":"","show-checkbox":"","filter-node-method":this.filterNode}})}),[],!1,null,"11cd2134",null).exports,M=Object(j.a)(Array(20)).map((function(e,t){return{name:"指标 ".concat(t+1)}})),I={name:"SheBeiAttributeProps",data:function(){return{tableData:M,multipleSelection:[]}},methods:{toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e}}},L=Object(n.a)(I,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table-container"},[t("el-table",{ref:"multipleTable",attrs:{data:this.tableData,stripe:"","show-header":!1},on:{"selection-change":this.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{prop:"name",height:"0"}})],1)],1)}),[],!1,null,"7d46ac07",null).exports,N=Object(j.a)(Array(20)).map((function(e,t){return{name:"机组 ".concat(t+1)}})),q={name:"JiZuProps",data:function(){return{tableData:N,multipleSelection:[]}},methods:{toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e}}};function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U={name:"HeaderConfig",components:{JiZuProps:Object(n.a)(q,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table-container"},[t("el-table",{ref:"multipleTable",attrs:{data:this.tableData,stripe:"","show-header":!1},on:{"selection-change":this.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{prop:"name",height:"0"}})],1)],1)}),[],!1,null,"14125a90",null).exports,SheBeiAttributeProps:L,SheBeiProps:V,Draggable:O.a},props:{basicFields:{type:Array,default:function(){return["input","textarea","number","radio","checkbox","time","date","rate","color","select","switch","slider","text","jizu"]}},advanceFields:{type:Array,default:function(){return["blank","imgupload","editor","cascader"]}},layoutFields:{type:Array,default:function(){return["grid","table"]}}},data:function(){return{basicComponents:$,layoutComponents:S,advanceComponents:T}},mounted:function(){this._loadComponents()},methods:{_loadComponents:function(){var e=this;this.basicComponents=this.basicComponents.map((function(t){return W(W({},t),{},{name:e.$t("fm.components.fields.".concat(t.type))})})),this.advanceComponents=this.advanceComponents.map((function(t){return W(W({},t),{},{name:e.$t("fm.components.fields.".concat(t.type))})})),this.layoutComponents=this.layoutComponents.map((function(t){return W(W({},t),{},{name:e.$t("fm.components.fields.".concat(t.type))})}))},handleMoveEnd:function(e){},handleMoveStart:function(e){e.oldIndex},handleMove:function(){return!0}}},J=(a("852f"),Object(n.a)(U,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%",overflow:"hidden"}},[a("el-aside",{staticStyle:{width:"100%",height:"100%",overflow:"hidden"}},[a("div",{staticClass:"components-list"},[e.basicFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.basic.title")))]),a("draggable",e._b({attrs:{tag:"ul",list:e.basicComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.basicComponents,(function(t,i){return e.basicFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label",class:{"no-put":"divider"===t.type}},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])]):e._e()})),0)]:e._e(),e.advanceFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.advance.title")))]),a("draggable",e._b({attrs:{tag:"ul",list:e.advanceComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.advanceComponents,(function(t,i){return e.advanceFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label",class:{"no-put":"table"===t.type}},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])]):e._e()})),0)]:e._e(),e.layoutFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.layout.title")))]),a("draggable",e._b({attrs:{tag:"ul",list:e.layoutComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.layoutComponents,(function(t,i){return e.layoutFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label no-put"},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])]):e._e()})),0)]:e._e()],2)])],1)}),[],!1,null,"3beda76e",null).exports),H={name:"TableConfig"},Z=Object(n.a)(H,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{height:"100%",overflow:"hidden"}},[t("el-container",{staticStyle:{height:"33.33% !important"}},[t("el-header",{attrs:{height:"40px"}},[t("div",{staticClass:"config-tab all middle"},[this._v("列表属性")])]),t("el-main",[this._v("\n      列表属性\n    ")])],1),t("el-container",{staticStyle:{height:"33.33% !important"}},[t("el-header",{attrs:{height:"40px"}},[t("div",{staticClass:"config-tab all middle"},[this._v("列表样式")])]),t("el-main",[this._v("\n      列表样式\n    ")])],1),t("el-container",{staticStyle:{height:"33.33% !important"}},[t("el-header",{attrs:{height:"40px"}},[t("div",{staticClass:"config-tab all middle"},[this._v("单元格属性")])]),t("el-main",[this._v("\n      单元格属性\n    ")])],1)],1)}),[],!1,null,"0ce05751",null).exports,G={name:"AddColumn",props:{zbData:{type:Array,default:function(){return[]}}},data:function(){return{dynamicValidateForm:{prop:"",label:"",width:""},zbflData:this.zbData,selectPropDisable:!1}},mounted:function(){},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;t.$emit("submit",t.dynamicValidateForm.label,t.dynamicValidateForm.prop,t.dynamicValidateForm.width)}))},cancel:function(){this.$emit("cancel")},selectLabelBlur:function(e){this.dynamicValidateForm.label!==e.target.value&&(this.dynamicValidateForm.label=e.target.value)},selectLabelChange:function(e){var t="";for(var a in this.zbflData)this.zbflData[a].zbmc===e&&(t=this.zbflData[a].dbid);null!=t&&""!==t&&(this.dynamicValidateForm.prop=t,this.selectPropDisable=!0)},selectLabelClear:function(){this.dynamicValidateForm.prop="",this.selectPropDisable=!1},selectPropBlur:function(e){this.dynamicValidateForm.prop!==e.target.value&&(this.dynamicValidateForm.prop=e.target.value)},selectPropChange:function(){}},watch:{zbData:function(e){this.zbflData=e}}},Q=(a("395d"),Object(n.a)(G,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"dynamicValidateForm",staticClass:"add-column-container",attrs:{model:e.dynamicValidateForm,"label-width":"100px"}},[a("el-form-item",{attrs:{prop:"label",label:"表头label:",rules:[{required:!0,message:"表头label不能为空",trigger:"blur"}]}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:"","allow-create":"","default-first-option":"",clearable:""},on:{blur:e.selectLabelBlur,change:e.selectLabelChange,clear:e.selectLabelClear},model:{value:e.dynamicValidateForm.label,callback:function(t){e.$set(e.dynamicValidateForm,"label",t)},expression:"dynamicValidateForm.label"}},e._l(e.zbflData,(function(e){return a("el-option",{key:"key_of_label_"+e.dbid,attrs:{label:e.zbmc,value:e.zbmc}})})),1)],1),a("el-form-item",{attrs:{label:"表头prop:",prop:"prop",rules:[{required:!0,message:"表头prop不能为空",trigger:"blur"}]}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:"","allow-create":"","default-first-option":"",clearable:"",disabled:e.selectPropDisable},on:{blur:e.selectPropBlur,change:e.selectPropChange},model:{value:e.dynamicValidateForm.prop,callback:function(t){e.$set(e.dynamicValidateForm,"prop",t)},expression:"dynamicValidateForm.prop"}},e._l(e.zbflData,(function(e){return a("el-option",{key:"key_of_prop_"+e.dbid,attrs:{label:e.dbid,value:e.dbid}})})),1)],1),a("el-form-item",{attrs:{label:"表头width:",prop:"width"}},[a("el-input",{model:{value:e.dynamicValidateForm.width,callback:function(t){e.$set(e.dynamicValidateForm,"width",t)},expression:"dynamicValidateForm.width"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("dynamicValidateForm")}}},[e._v("提交")]),a("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)}),[],!1,null,"74d5d14e",null).exports),K={components:{Draggable:O.a,AddColumn:Q},props:["data","currcheck"],data:function(){return{validator:{type:null,required:null,pattern:null,range:null,length:null},columnCurrentCheck:this.currcheck,rowCurrentCheck:[]}},computed:{show:function(){return this.data&&Object.keys(this.data).length>0}},mounted:function(){},methods:{handleOptionsRemove:function(e){"grid"===this.data.type?this.data.columns.splice(e,1):"table"===this.data.type?(this.data.rows.splice(e,1),this.$emit("remove-row",e)):this.data.options.options.splice(e,1)},handleAddOption:function(){this.data.options.showLabel?this.data.options.options.push({value:this.$t("fm.config.widget.newOption"),label:this.$t("fm.config.widget.newOption")}):this.data.options.options.push({value:this.$t("fm.config.widget.newOption")})},handleAddColumn:function(){this.data.columns.push({span:"",list:[]})},handleAddTableColumn:function(){this.$emit("show-add-column")},handleRemoveTableColumn:function(e,t){this.columnCurrentCheck[0]===e&&(this.columnCurrentCheck=[],this.$emit("update:currcheck",this.columnCurrentCheck)),this.$emit("remove-column",e,t)},handleAddTableRow:function(){this.$emit("show-add-row")},generateRule:function(){var e=this;this.data.rules=[],Object.keys(this.validator).forEach((function(t){e.validator[t]&&e.data.rules.push(e.validator[t])}))},handleSelectMuliple:function(e){e?this.data.options.defaultValue?this.data.options.defaultValue=[this.data.options.defaultValue]:this.data.options.defaultValue=[]:this.data.options.defaultValue.length>0?this.data.options.defaultValue=this.data.options.defaultValue[0]:this.data.options.defaultValue=""},validateRequired:function(e){var t=this;this.validator.required=e?{required:!0,message:"".concat(this.data.name).concat(this.$t("fm.config.widget.validatorRequired"))}:null,this.$nextTick((function(){t.generateRule()}))},validateDataType:function(e){if(!this.show)return!1;this.validator.type=e?{type:e,message:this.data.name+this.$t("fm.config.widget.validatorType")}:null,this.generateRule()},valiatePattern:function(e){if(!this.show)return!1;this.validator.pattern=e?{pattern:e,message:this.data.name+this.$t("fm.config.widget.validatorPattern")}:null,this.generateRule()},endevent:function(e){this.$emit("drag-end",e)},columnCheckBoxChange:function(e){this.$emit("update:currcheck",e)},rowCheckBoxChange:function(e){var t=[];for(var a in e)t.push(e[a].substring(e[a].length-1));this.$emit("update-row-check",t)},handleMergeClick:function(){this.$emit("merge-cell")},handleCancelMergeClick:function(){},showJz:function(){this.$emit("show-jz")}},watch:{"data.options.isRange":function(e){void 0!==e&&(e?this.data.options.defaultValue=null:Object.keys(this.data.options).indexOf("defaultValue")>=0&&(this.data.options.defaultValue=""))},"data.options.required":function(e){this.validateRequired(e)},"data.options.dataType":function(e){this.validateDataType(e)},"data.options.pattern":function(e){this.valiatePattern(e)},"data.name":function(e){this.data.options&&(this.validateRequired(this.data.options.required),this.validateDataType(this.data.options.dataType),this.valiatePattern(this.data.options.pattern))},currcheck:function(e){this.columnCurrentCheck=e}}},X=Object(n.a)(K,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("div",[a("el-form",{attrs:{"label-position":"top"}},["grid"!==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.name")}},[a("el-input",{model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1):e._e(),"grid"!==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.datasource")}},[a("el-input",{model:{value:e.data.options.datasource,callback:function(t){e.$set(e.data.options,"datasource",t)},expression:"data.options.datasource"}})],1):e._e(),"grid"!==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.table")}},[a("el-input",{model:{value:e.data.options.table,callback:function(t){e.$set(e.data.options,"table",t)},expression:"data.options.table"}})],1):e._e(),"grid"!==e.data.type&&"table"!==e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.field")}},[a("el-input",{model:{value:e.data.options.field,callback:function(t){e.$set(e.data.options,"field",t)},expression:"data.options.field"}})],1):e._e(),Object.keys(e.data.options).indexOf("width")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.width")}},[a("el-input",{model:{value:e.data.options.width,callback:function(t){e.$set(e.data.options,"width",t)},expression:"data.options.width"}})],1):e._e(),Object.keys(e.data.options).indexOf("height")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.height")}},[a("el-input",{model:{value:e.data.options.height,callback:function(t){e.$set(e.data.options,"height",t)},expression:"data.options.height"}})],1):e._e(),Object.keys(e.data.options).indexOf("size")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.size")}},[e._v("\n      "+e._s(e.$t("fm.config.widget.width"))+"\n      "),a("el-input",{staticStyle:{width:"90px"},attrs:{type:"number"},model:{value:e.data.options.size.width,callback:function(t){e.$set(e.data.options.size,"width",e._n(t))},expression:"data.options.size.width"}}),e._v("\n      "+e._s(e.$t("fm.config.widget.height"))+"\n      "),a("el-input",{staticStyle:{width:"90px"},attrs:{type:"number"},model:{value:e.data.options.size.height,callback:function(t){e.$set(e.data.options.size,"height",e._n(t))},expression:"data.options.size.height"}})],1):e._e(),Object.keys(e.data.options).indexOf("placeholder")>=0&&("time"!==e.data.type||"date"!==e.data.type)?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.placeholder")}},[a("el-input",{model:{value:e.data.options.placeholder,callback:function(t){e.$set(e.data.options,"placeholder",t)},expression:"data.options.placeholder"}})],1):e._e(),Object.keys(e.data.options).indexOf("inline")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.layout")}},[a("el-radio-group",{model:{value:e.data.options.inline,callback:function(t){e.$set(e.data.options,"inline",t)},expression:"data.options.inline"}},[a("el-radio-button",{attrs:{label:!1}},[e._v(e._s(e.$t("fm.config.widget.block")))]),a("el-radio-button",{attrs:{label:!0}},[e._v(e._s(e.$t("fm.config.widget.inline")))])],1)],1):e._e(),Object.keys(e.data.options).indexOf("showInput")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.showInput")}},[a("el-switch",{model:{value:e.data.options.showInput,callback:function(t){e.$set(e.data.options,"showInput",t)},expression:"data.options.showInput"}})],1):e._e(),Object.keys(e.data.options).indexOf("min")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.min")}},[a("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:e.data.options.min,callback:function(t){e.$set(e.data.options,"min",t)},expression:"data.options.min"}})],1):e._e(),Object.keys(e.data.options).indexOf("max")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.max")}},[a("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:e.data.options.max,callback:function(t){e.$set(e.data.options,"max",t)},expression:"data.options.max"}})],1):e._e(),Object.keys(e.data.options).indexOf("step")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.step")}},[a("el-input-number",{attrs:{min:0,max:100,step:1},model:{value:e.data.options.step,callback:function(t){e.$set(e.data.options,"step",t)},expression:"data.options.step"}})],1):e._e(),"select"===e.data.type||"imgupload"===e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.multiple")}},[a("el-switch",{on:{change:e.handleSelectMuliple},model:{value:e.data.options.multiple,callback:function(t){e.$set(e.data.options,"multiple",t)},expression:"data.options.multiple"}})],1):e._e(),"select"===e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.filterable")}},[a("el-switch",{model:{value:e.data.options.filterable,callback:function(t){e.$set(e.data.options,"filterable",t)},expression:"data.options.filterable"}})],1):e._e(),Object.keys(e.data.options).indexOf("allowHalf")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.allowHalf")}},[a("el-switch",{model:{value:e.data.options.allowHalf,callback:function(t){e.$set(e.data.options,"allowHalf",t)},expression:"data.options.allowHalf"}})],1):e._e(),Object.keys(e.data.options).indexOf("showAlpha")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.showAlpha")}},[a("el-switch",{model:{value:e.data.options.showAlpha,callback:function(t){e.$set(e.data.options,"showAlpha",t)},expression:"data.options.showAlpha"}})],1):e._e(),Object.keys(e.data.options).indexOf("showLabel")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.showLabel")}},[a("el-switch",{model:{value:e.data.options.showLabel,callback:function(t){e.$set(e.data.options,"showLabel",t)},expression:"data.options.showLabel"}})],1):e._e(),Object.keys(e.data.options).indexOf("options")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.option")}},[a("el-radio-group",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"mini"},model:{value:e.data.options.remote,callback:function(t){e.$set(e.data.options,"remote",t)},expression:"data.options.remote"}},[a("el-radio-button",{attrs:{label:!1}},[e._v(e._s(e.$t("fm.config.widget.staticData")))]),a("el-radio-button",{attrs:{label:!0}},[e._v(e._s(e.$t("fm.config.widget.remoteData")))])],1),e.data.options.remote?[a("div",[a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.remoteFunc,callback:function(t){e.$set(e.data.options,"remoteFunc",t)},expression:"data.options.remoteFunc"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.remoteFunc")))])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.value,callback:function(t){e.$set(e.data.options.props,"value",t)},expression:"data.options.props.value"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.value")))])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.label,callback:function(t){e.$set(e.data.options.props,"label",t)},expression:"data.options.props.label"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.label")))])],2)],1)]:["radio"===e.data.type||"select"===e.data.type&&!e.data.options.multiple?[a("el-radio-group",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}},[a("draggable",e._b({attrs:{tag:"ul",list:e.data.options.options,handle:".drag-item"}},"draggable",{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"},!1),e._l(e.data.options.options,(function(t,i){return a("li",{key:i},[a("el-radio",{staticStyle:{"margin-right":"5px"},attrs:{label:t.value}},[a("el-input",{style:{width:e.data.options.showLabel?"90px":"180px"},attrs:{size:"mini"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),e.data.options.showLabel?a("el-input",{staticStyle:{width:"90px"},attrs:{size:"mini"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}):e._e()],1),a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("i",{staticClass:"iconfont icon-icon_bars"})]),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){return e.handleOptionsRemove(i)}}})],1)})),0)],1)]:e._e(),"checkbox"===e.data.type||"select"===e.data.type&&e.data.options.multiple?[a("el-checkbox-group",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}},[a("draggable",e._b({attrs:{tag:"ul",list:e.data.options.options,handle:".drag-item"}},"draggable",{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"},!1),e._l(e.data.options.options,(function(t,i){return a("li",{key:i},[a("el-checkbox",{staticStyle:{"margin-right":"5px"},attrs:{label:t.value}},[a("el-input",{style:{width:e.data.options.showLabel?"90px":"180px"},attrs:{size:"mini"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),e.data.options.showLabel?a("el-input",{staticStyle:{width:"90px"},attrs:{size:"mini"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}):e._e()],1),a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("i",{staticClass:"iconfont icon-icon_bars"})]),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){return e.handleOptionsRemove(i)}}})],1)})),0)],1)]:e._e(),a("div",{staticStyle:{"margin-left":"22px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.handleAddOption}},[e._v(e._s(e.$t("fm.actions.addOption")))])],1)]],2):e._e(),"cascader"===e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.remoteData")}},[a("div",[a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.remoteFunc,callback:function(t){e.$set(e.data.options,"remoteFunc",t)},expression:"data.options.remoteFunc"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.remoteFunc")))])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.value,callback:function(t){e.$set(e.data.options.props,"value",t)},expression:"data.options.props.value"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.value")))])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.label,callback:function(t){e.$set(e.data.options.props,"label",t)},expression:"data.options.props.label"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.label")))])],2),a("el-input",{attrs:{size:"mini"},model:{value:e.data.options.props.children,callback:function(t){e.$set(e.data.options.props,"children",t)},expression:"data.options.props.children"}},[a("template",{slot:"prepend"},[e._v(e._s(e.$t("fm.config.widget.childrenOption")))])],2)],1)]):e._e(),Object.keys(e.data.options).indexOf("defaultValue")>=0&&("textarea"===e.data.type||"input"===e.data.type||"rate"===e.data.type||"color"===e.data.type||"switch"===e.data.type)?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.defaultValue")}},["textarea"===e.data.type?a("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),"input"===e.data.type?a("el-input",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),"rate"===e.data.type?a("el-rate",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{max:e.data.options.max,"allow-half":e.data.options.allowHalf},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),"rate"===e.data.type?a("el-button",{staticStyle:{display:"inline-block","vertical-align":"middle","margin-left":"10px"},attrs:{type:"text"},on:{click:function(t){e.data.options.defaultValue=0}}},[e._v(e._s(e.$t("fm.actions.clear"))+"\n      ")]):e._e(),"color"===e.data.type?a("el-color-picker",{attrs:{"show-alpha":e.data.options.showAlpha},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e(),"switch"===e.data.type?a("el-switch",{model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e()],1):e._e(),"time"===e.data.type||"date"===e.data.type?["date"===e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.showType")}},[a("el-select",{model:{value:e.data.options.type,callback:function(t){e.$set(e.data.options,"type",t)},expression:"data.options.type"}},[a("el-option",{attrs:{value:"year"}}),a("el-option",{attrs:{value:"month"}}),a("el-option",{attrs:{value:"date"}}),a("el-option",{attrs:{value:"dates"}}),a("el-option",{attrs:{value:"datetime"}}),a("el-option",{attrs:{value:"datetimerange"}}),a("el-option",{attrs:{value:"daterange"}})],1)],1):e._e(),"time"===e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.isRange")}},[a("el-switch",{model:{value:e.data.options.isRange,callback:function(t){e.$set(e.data.options,"isRange",t)},expression:"data.options.isRange"}})],1):e._e(),"date"===e.data.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.isTimestamp")}},[a("el-switch",{model:{value:e.data.options.timestamp,callback:function(t){e.$set(e.data.options,"timestamp",t)},expression:"data.options.timestamp"}})],1):e._e(),!e.data.options.isRange&&"time"===e.data.type||"time"!==e.data.type&&"datetimerange"!==e.data.options.type&&"daterange"!==e.data.options.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.placeholder")}},[a("el-input",{model:{value:e.data.options.placeholder,callback:function(t){e.$set(e.data.options,"placeholder",t)},expression:"data.options.placeholder"}})],1):e._e(),e.data.options.isRange||"datetimerange"===e.data.options.type||"daterange"===e.data.options.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.startPlaceholder")}},[a("el-input",{model:{value:e.data.options.startPlaceholder,callback:function(t){e.$set(e.data.options,"startPlaceholder",t)},expression:"data.options.startPlaceholder"}})],1):e._e(),e.data.options.isRange||"datetimerange"===e.data.options.type||"daterange"===e.data.options.type?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.endPlaceholder")}},[a("el-input",{model:{value:e.data.options.endPlaceholder,callback:function(t){e.$set(e.data.options,"endPlaceholder",t)},expression:"data.options.endPlaceholder"}})],1):e._e(),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.format")}},[a("el-input",{model:{value:e.data.options.format,callback:function(t){e.$set(e.data.options,"format",t)},expression:"data.options.format"}})],1),"time"===e.data.type&&Object.keys(e.data.options).indexOf("isRange")>=0?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.defaultValue")}},[e.data.options.isRange?e._e():a("el-time-picker",{key:"1",staticStyle:{width:"100%"},attrs:{arrowControl:e.data.options.arrowControl,"value-format":e.data.options.format},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}),e.data.options.isRange?a("el-time-picker",{key:"2",staticStyle:{width:"100%"},attrs:{"is-range":"",arrowControl:e.data.options.arrowControl,"value-format":e.data.options.format},model:{value:e.data.options.defaultValue,callback:function(t){e.$set(e.data.options,"defaultValue",t)},expression:"data.options.defaultValue"}}):e._e()],1):e._e()]:e._e(),"imgupload"===e.data.type?[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.limit")}},[a("el-input",{attrs:{type:"number"},model:{value:e.data.options.length,callback:function(t){e.$set(e.data.options,"length",e._n(t))},expression:"data.options.length"}})],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.isQiniu")}},[a("el-switch",{model:{value:e.data.options.isQiniu,callback:function(t){e.$set(e.data.options,"isQiniu",t)},expression:"data.options.isQiniu"}})],1),e.data.options.isQiniu?[a("el-form-item",{attrs:{label:"Domain",required:!0}},[a("el-input",{model:{value:e.data.options.domain,callback:function(t){e.$set(e.data.options,"domain",t)},expression:"data.options.domain"}})],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.tokenFunc"),required:!0}},[a("el-input",{model:{value:e.data.options.tokenFunc,callback:function(t){e.$set(e.data.options,"tokenFunc",t)},expression:"data.options.tokenFunc"}})],1)]:[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.imageAction"),required:!0}},[a("el-input",{model:{value:e.data.options.action,callback:function(t){e.$set(e.data.options,"action",t)},expression:"data.options.action"}})],1)]]:e._e(),"blank"===e.data.type?[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.defaultType")}},[a("el-select",{model:{value:e.data.options.defaultType,callback:function(t){e.$set(e.data.options,"defaultType",t)},expression:"data.options.defaultType"}},[a("el-option",{attrs:{value:"String",label:e.$t("fm.config.widget.string")}}),a("el-option",{attrs:{value:"Object",label:e.$t("fm.config.widget.object")}}),a("el-option",{attrs:{value:"Array",label:e.$t("fm.config.widget.array")}})],1)],1)]:e._e(),"grid"===e.data.type?[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.gutter")}},[a("el-input",{attrs:{type:"number"},model:{value:e.data.options.gutter,callback:function(t){e.$set(e.data.options,"gutter",e._n(t))},expression:"data.options.gutter"}})],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.columnOption")}},[a("draggable",e._b({attrs:{tag:"ul",list:e.data.columns,handle:".drag-item"}},"draggable",{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"},!1),e._l(e.data.columns,(function(t,i){return a("li",{key:i},[a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("i",{staticClass:"iconfont icon-icon_bars"})]),a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:e.$t("fm.config.widget.span"),size:"mini",type:"number"},model:{value:t.span,callback:function(a){e.$set(t,"span",e._n(a))},expression:"item.span"}}),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){return e.handleOptionsRemove(i)}}})],1)})),0),a("div",{staticStyle:{"margin-left":"22px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.handleAddColumn}},[e._v(e._s(e.$t("fm.actions.addColumn")))])],1)],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.justify")}},[a("el-select",{model:{value:e.data.options.justify,callback:function(t){e.$set(e.data.options,"justify",t)},expression:"data.options.justify"}},[a("el-option",{attrs:{value:"start",label:e.$t("fm.config.widget.justifyStart")}}),a("el-option",{attrs:{value:"end",label:e.$t("fm.config.widget.justifyEnd")}}),a("el-option",{attrs:{value:"center",label:e.$t("fm.config.widget.justifyCenter")}}),a("el-option",{attrs:{value:"space-around",label:e.$t("fm.config.widget.justifySpaceAround")}}),a("el-option",{attrs:{value:"space-between",label:e.$t("fm.config.widget.justifySpaceBetween")}})],1)],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.align")}},[a("el-select",{model:{value:e.data.options.align,callback:function(t){e.$set(e.data.options,"align",t)},expression:"data.options.align"}},[a("el-option",{attrs:{value:"top",label:e.$t("fm.config.widget.alignTop")}}),a("el-option",{attrs:{value:"middle",label:e.$t("fm.config.widget.alignMiddle")}}),a("el-option",{attrs:{value:"bottom",label:e.$t("fm.config.widget.alignBottom")}})],1)],1)]:e._e(),"table"===e.data.type?[a("el-form-item",{attrs:{label:"机组维度字段"}},[a("el-input",{attrs:{min:"1"},model:{value:e.data.options.dataTransformRules.rows.wd_jz,callback:function(t){e.$set(e.data.options.dataTransformRules.rows,"wd_jz",e._n(t))},expression:"data.options.dataTransformRules.rows.wd_jz"}})],1),a("el-form-item",{attrs:{label:"设备维度字段"}},[a("el-input",{attrs:{min:"1"},model:{value:e.data.options.dataTransformRules.rows.wd_sheb,callback:function(t){e.$set(e.data.options.dataTransformRules.rows,"wd_sheb",e._n(t))},expression:"data.options.dataTransformRules.rows.wd_sheb"}})],1),a("el-form-item",{attrs:{label:"指标id字段"}},[a("el-input",{attrs:{min:"1"},model:{value:e.data.options.dataTransformRules.columns.key,callback:function(t){e.$set(e.data.options.dataTransformRules.columns,"key",e._n(t))},expression:"data.options.dataTransformRules.columns.key"}})],1),a("el-form-item",{attrs:{label:"指标值字段"}},[a("el-input",{attrs:{min:"1"},model:{value:e.data.options.dataTransformRules.columns.value,callback:function(t){e.$set(e.data.options.dataTransformRules.columns,"value",e._n(t))},expression:"data.options.dataTransformRules.columns.value"}})],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.rows")}},[a("el-input",{attrs:{type:"number",min:"1"},model:{value:e.data.rows.length,callback:function(t){e.$set(e.data.rows,"length",e._n(t))},expression:"data.rows.length"}})],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.columns")}},[a("el-input",{attrs:{type:"number",min:"1"},model:{value:Object.keys(e.data.rows.length>0?e.data.rows[0]:{}).length,callback:function(t){e.$set(Object.keys(e.data.rows.length>0?e.data.rows[0]:{}),"length",e._n(t))},expression:"Object.keys(data.rows.length > 0 ? data.rows[0] : {}).length"}})],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.rowOption")}},[a("el-checkbox-group",{on:{change:e.rowCheckBoxChange},model:{value:e.rowCurrentCheck,callback:function(t){e.rowCurrentCheck=t},expression:"rowCurrentCheck"}},[a("draggable",e._b({attrs:{tag:"ul",list:e.data.rows,handle:".drag-item"},on:{end:e.endevent}},"draggable",{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"},!1),e._l(e.data.rows,(function(t,i){return a("li",{key:i},[a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("i",{staticClass:"iconfont icon-icon_bars"})]),a("el-tooltip",{attrs:{content:"勾选则当前行不作数据存储"}},[a("el-checkbox",{key:t.label,staticClass:"edit-table-column-radio",attrs:{label:"row_check_box_"+i,checked:t.isColumnHeader}})],1),a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:e.$t("fm.config.widget.span"),size:"mini",type:"number"},model:{value:t.span,callback:function(a){e.$set(t,"span",e._n(a))},expression:"item.span"}}),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){return e.handleOptionsRemove(i)}}})],1)})),0)],1),a("div",{staticStyle:{"margin-left":"22px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.handleAddTableRow}},[e._v(e._s(e.$t("fm.actions.addRow")))])],1)],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.columnOption")}},[a("el-checkbox-group",{attrs:{max:1},on:{change:e.columnCheckBoxChange},model:{value:e.columnCurrentCheck,callback:function(t){e.columnCurrentCheck=t},expression:"columnCurrentCheck"}},[a("draggable",e._b({attrs:{tag:"ul",list:e.data.columns,handle:".drag-item"},on:{end:e.endevent}},"draggable",{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"},!1),e._l(e.data.columns,(function(t,i){return a("li",{key:i},[a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("i",{staticClass:"iconfont icon-icon_bars"})]),a("el-checkbox",{key:t.label,staticClass:"edit-table-column-radio",attrs:{label:t.label}}),a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:e.$t("fm.config.widget.span"),size:"mini",readonly:""},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(a){return e.handleRemoveTableColumn(t.label,i)}}})],1)})),0)],1),a("div",{staticStyle:{"margin-left":"22px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.handleAddTableColumn}},[e._v(e._s(e.$t("fm.actions.addColumn")))])],1)],1),a("el-form-item",{attrs:{label:"列表样式"}},[a("el-row",{attrs:{type:"flex",justify:"space-around"}},[a("el-button",{on:{click:e.handleMergeClick}},[e._v("合并")]),a("el-button",{on:{click:e.handleCancelMergeClick}},[e._v("取消合并")])],1)],1),a("el-form-item",{attrs:{label:"单元格属性"}},[a("el-row",{staticStyle:{"padding-bottom":"15px"},attrs:{type:"flex",justify:"space-around"}},[a("el-col",[a("el-button",[e._v("显示指标符号")])],1),a("el-col",[a("el-button",[e._v("显示指标单位")])],1)],1),a("el-row",{staticStyle:{"padding-bottom":"15px"},attrs:{type:"flex",justify:"space-around"}},[a("el-col",[a("el-button",[e._v("显示指标标准值")])],1),a("el-col",[a("el-button",[e._v("显示指标期望值")])],1)],1),a("el-row",{staticStyle:{"padding-bottom":"15px"},attrs:{type:"flex",justify:"space-around"}},[a("el-col",[a("el-button",{on:{click:e.showJz}},[e._v("显示机组")])],1),a("el-col",[a("el-button",[e._v("重置")])],1)],1)],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.attribute")}},[Object.keys(e.data.options).indexOf("stripe")>=0?a("el-checkbox",{model:{value:e.data.options.stripe,callback:function(t){e.$set(e.data.options,"stripe",t)},expression:"data.options.stripe"}},[e._v("\n          "+e._s(e.$t("fm.config.widget.stripe"))+"\n        ")]):e._e(),Object.keys(e.data.options).indexOf("border")>=0?a("el-checkbox",{model:{value:e.data.options.border,callback:function(t){e.$set(e.data.options,"border",t)},expression:"data.options.border"}},[e._v("\n          "+e._s(e.$t("fm.config.widget.border"))+"\n        ")]):e._e(),Object.keys(e.data.options).indexOf("fit")>=0?a("el-checkbox",{model:{value:e.data.options.fit,callback:function(t){e.$set(e.data.options,"fit",t)},expression:"data.options.fit"}},[e._v("\n          "+e._s(e.$t("fm.config.widget.fit"))+"\n        ")]):e._e(),Object.keys(e.data.options).indexOf("showHeader")>=0?a("el-checkbox",{model:{value:e.data.options.showHeader,callback:function(t){e.$set(e.data.options,"showHeader",t)},expression:"data.options.showHeader"}},[e._v("\n          "+e._s(e.$t("fm.config.widget.showHeader"))+"\n        ")]):e._e(),Object.keys(e.data.options).indexOf("highlightCurrentRow")>=0?a("el-checkbox",{model:{value:e.data.options.highlightCurrentRow,callback:function(t){e.$set(e.data.options,"highlightCurrentRow",t)},expression:"data.options.highlightCurrentRow"}},[e._v("\n          "+e._s(e.$t("fm.config.widget.highlightCurrentRow"))+"\n        ")]):e._e(),Object.keys(e.data.options).indexOf("showSummary")>=0?a("el-checkbox",{model:{value:e.data.options.showSummary,callback:function(t){e.$set(e.data.options,"showSummary",t)},expression:"data.options.showSummary"}},[e._v("\n          "+e._s(e.$t("fm.config.widget.showSummary"))+"\n        ")]):e._e()],1)]:e._e(),"grid"!==e.data.type&&"table"!==e.data.type?[a("el-form-item",{attrs:{label:e.$t("fm.config.widget.attribute")}},[Object.keys(e.data.options).indexOf("readonly")>=0?a("el-checkbox",{model:{value:e.data.options.readonly,callback:function(t){e.$set(e.data.options,"readonly",t)},expression:"data.options.readonly"}},[e._v("\n          "+e._s(e.$t("fm.config.widget.readonly"))+"\n        ")]):e._e(),Object.keys(e.data.options).indexOf("disabled")>=0?a("el-checkbox",{model:{value:e.data.options.disabled,callback:function(t){e.$set(e.data.options,"disabled",t)},expression:"data.options.disabled"}},[e._v("\n          "+e._s(e.$t("fm.config.widget.disabled"))+"\n        ")]):e._e(),Object.keys(e.data.options).indexOf("editable")>=0?a("el-checkbox",{model:{value:e.data.options.editable,callback:function(t){e.$set(e.data.options,"editable",t)},expression:"data.options.editable"}},[e._v("\n          "+e._s(e.$t("fm.config.widget.editable"))+"\n        ")]):e._e(),Object.keys(e.data.options).indexOf("clearable")>=0?a("el-checkbox",{model:{value:e.data.options.clearable,callback:function(t){e.$set(e.data.options,"clearable",t)},expression:"data.options.clearable"}},[e._v("\n          "+e._s(e.$t("fm.config.widget.clearable"))+"\n        ")]):e._e(),Object.keys(e.data.options).indexOf("arrowControl")>=0?a("el-checkbox",{model:{value:e.data.options.arrowControl,callback:function(t){e.$set(e.data.options,"arrowControl",t)},expression:"data.options.arrowControl"}},[e._v("\n          "+e._s(e.$t("fm.config.widget.arrowControl"))+"\n        ")]):e._e(),Object.keys(e.data.options).indexOf("isDelete")>=0?a("el-checkbox",{model:{value:e.data.options.isDelete,callback:function(t){e.$set(e.data.options,"isDelete",t)},expression:"data.options.isDelete"}},[e._v("\n          "+e._s(e.$t("fm.config.widget.isDelete"))+"\n        ")]):e._e(),Object.keys(e.data.options).indexOf("isEdit")>=0?a("el-checkbox",{model:{value:e.data.options.isEdit,callback:function(t){e.$set(e.data.options,"isEdit",t)},expression:"data.options.isEdit"}},[e._v("\n          "+e._s(e.$t("fm.config.widget.isEdit"))+"\n        ")]):e._e()],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.validate")}},[Object.keys(e.data.options).indexOf("required")>=0?a("div",[a("el-checkbox",{model:{value:e.data.options.required,callback:function(t){e.$set(e.data.options,"required",t)},expression:"data.options.required"}},[e._v(e._s(e.$t("fm.config.widget.required")))])],1):e._e(),Object.keys(e.data.options).indexOf("dataType")>=0?a("el-select",{attrs:{size:"mini"},model:{value:e.data.options.dataType,callback:function(t){e.$set(e.data.options,"dataType",t)},expression:"data.options.dataType"}},[a("el-option",{attrs:{value:"string",label:e.$t("fm.config.widget.string")}}),a("el-option",{attrs:{value:"number",label:e.$t("fm.config.widget.number")}}),a("el-option",{attrs:{value:"boolean",label:e.$t("fm.config.widget.boolean")}}),a("el-option",{attrs:{value:"integer",label:e.$t("fm.config.widget.integer")}}),a("el-option",{attrs:{value:"float",label:e.$t("fm.config.widget.float")}}),a("el-option",{attrs:{value:"url",label:e.$t("fm.config.widget.url")}}),a("el-option",{attrs:{value:"email",label:e.$t("fm.config.widget.email")}}),a("el-option",{attrs:{value:"hex",label:e.$t("fm.config.widget.hex")}})],1):e._e(),Object.keys(e.data.options).indexOf("pattern")>=0?a("div",[a("el-input",{staticStyle:{width:"240px"},attrs:{size:"mini",placeholder:e.$t("fm.config.widget.patternPlaceholder")},model:{value:e.data.options.pattern,callback:function(t){e.$set(e.data.options,"pattern",t)},expression:"data.options.pattern"}})],1):e._e()],1)]:e._e()],2)],1):e._e()}),[],!1,null,null,null).exports,Y={props:["data"],data:function(){return{templateGradeOptions:[{value:"0",label:"集团"},{value:"1",label:"电厂"}],templateStatusOptions:[{value:"enabled",label:"启用"},{value:"published",label:"发布"},{value:"beta",label:"草稿"}]}}},ee=(a("08e7"),Object(n.a)(Y,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"form-config-container",attrs:{"label-width":"20px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"工厂编码",prop:"werks",required:""}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.data.werks,callback:function(t){e.$set(e.data,"werks",t)},expression:"data.werks"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公司编码",prop:"bukrs",required:""}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.data.bukrs,callback:function(t){e.$set(e.data,"bukrs",t)},expression:"data.bukrs"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"模板名称",prop:"templateName",required:""}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.data.templateName,callback:function(t){e.$set(e.data,"templateName",t)},expression:"data.templateName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"模板编码",prop:"enabler",required:""}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.data.templateCode,callback:function(t){e.$set(e.data,"templateCode",t)},expression:"data.templateCode"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"发布单位",prop:"publishDanwei"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.data.publishDanWei,callback:function(t){e.$set(e.data,"publishDanWei",t)},expression:"data.publishDanWei"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"发布人",prop:"publisher"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.data.publisher,callback:function(t){e.$set(e.data,"publisher",t)},expression:"data.publisher"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"生成时间",prop:"createTime"}},[a("el-date-picker",{attrs:{placeholder:"",size:"mini"},model:{value:e.data.createTime,callback:function(t){e.$set(e.data,"createTime",t)},expression:"data.createTime"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"发布时间",prop:"publishTime"}},[a("el-date-picker",{attrs:{placeholder:"",size:"mini"},model:{value:e.data.publishTime,callback:function(t){e.$set(e.data,"publishTime",t)},expression:"data.publishTime"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"模板级别",prop:"templateGrade"}},[a("el-select",{attrs:{value:"0",placeholder:"请选择"},model:{value:e.data.templateGrade,callback:function(t){e.$set(e.data,"templateGrade",t)},expression:"data.templateGrade"}},e._l(e.templateGradeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"模板状态",prop:"templateStatus"}},[a("el-select",{attrs:{value:"beta",placeholder:"请选择"},model:{value:e.data.templateStatus,callback:function(t){e.$set(e.data,"templateStatus",t)},expression:"data.templateStatus"}},e._l(e.templateStatusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"启用人",prop:"enabler"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.data.enabler,callback:function(t){e.$set(e.data,"enabler",t)},expression:"data.enabler"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"启用时间",prop:"enabledTime"}},[a("el-date-picker",{attrs:{placeholder:"",size:"mini"},model:{value:e.data.enabledTime,callback:function(t){e.$set(e.data,"enabledTime",t)},expression:"data.enabledTime"}})],1)],1)],1)],1)}),[],!1,null,"655ea289",null).exports),te=a("c7f0"),ae=a("94ed"),ie={name:"tableColumn",props:{prop:{type:String,required:!0},label:{type:String,required:!0},width:{type:String,required:!0},coloumnHeader:{type:Object,required:!0},showEdit:{type:Boolean,default:!1},uiSelect:{type:Object,default:function(){return{jz:[],sb:[]}}}},components:{JizuComponent:ae.a},data:function(){return{showEditForChildren:this.showEdit,uiselect:this.uiSelect}},mounted:function(){},methods:{change2:function(e,t){},change3:function(e,t){},isDefaultOrOtherUi:function(e,t){if(this.uiselect.jz&&this.uiselect.jz.length>0){for(var a in this.uiselect.jz)if(this.uiselect.jz[a].rowIndex===e.rowIndex&&this.uiselect.jz[a].prop===t.prop)return"jz"}else this.uiselect.sb&&this.uiselect.sb.length;return"default"}},watch:{uiSelect:function(e){this.uiselect=e}}},le=Object(n.a)(ie,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.coloumnHeader.children&&e.coloumnHeader.children.length?a("el-table-column",{attrs:{label:e.coloumnHeader.label}},[e._l(e.coloumnHeader.children,(function(t){return[t.children&&t.children.length?a("table-column",{key:t.id,attrs:{prop:t.prop,label:t.label,width:t.width,"coloumn-header":t,showEdit:e.showEdit,"ui-select":e.uiselect}}):a("el-table-column",{key:t.id,attrs:{prop:t.prop,label:t.label,width:t.width},scopedSlots:e._u([{key:"default",fn:function(i){var l=i.row;return e.showEdit?["default"===e.isDefaultOrOtherUi(l,t)?a("el-input",{attrs:{placeholder:"请输入",size:"small"},on:{change:function(t){return e.change3(arguments,l)}},model:{value:l[t.prop],callback:function(a){e.$set(l,t.prop,a)},expression:"row[column.prop]"}}):e._e(),"jz"===e.isDefaultOrOtherUi(l,t)?a("jizu-component"):e._e()]:void 0}}],null,!0)})]}))],2):a("el-table-column",{key:e.coloumnHeader.id,attrs:{prop:e.coloumnHeader.prop,label:e.coloumnHeader.label,width:e.coloumnHeader.width},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return e.showEdit?["default"===e.isDefaultOrOtherUi(i,e.column)?a("el-input",{attrs:{placeholder:"请输入",size:"mini"},on:{change:function(t){return e.change2(arguments,i)}},model:{value:i[e.column.prop],callback:function(t){e.$set(i,e.column.prop,t)},expression:"row[column.prop]"}}):e._e(),"jz"===e.isDefaultOrOtherUi(i,e.column)?a("jizu-component"):e._e()]:void 0}}],null,!0)})}),[],!1,null,"683a79b2",null).exports,oe=a("526f");function ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ne(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var re={props:["element","select","index","data","changeshowtt","celldom","areadom","uiSelect"],components:{JizuComponent:ae.a,FmUpload:te.a,TableColumn:le},data:function(){return{selectWidget:this.select,changeShowTableTag:!0,editableTableData:[],dialogEidtableTableVisible:!1,cloneDeep:null,isShift:!1,cellDom:null,areaDom:null,uiselect:this.uiSelect}},mounted:function(){var e=this;this.cloneDeep=a("2ef0").cloneDeep,window.addEventListener("keydown",(function(t){16===t.keyCode&&t.shiftKey&&(e.isShift=!0)})),window.addEventListener("keyup",(function(t){16===t.keyCode&&(e.isShift=!1)}))},methods:{editableCellClassName:function(e){var t=e.row,a=e.column,i=e.rowIndex,l=e.columnIndex;return t.rowIndex=i,a.columnIndex=l,"editable-row_"+i+"-column_"+l+"-cell"},transferConfigcolToCol:function(e){return e.configColumns&&(e.columns=e.configColumns,delete e.configColumns),e},updateSelectWidget:function(e){if("table"===this.data.list[e].type){var t=this.cloneDeep(this.data.list[e]);t.columns=this.cloneDeep(this.data.list[e]).configColumns,this.selectWidget=t}else this.selectWidget=this.data.list[e]},handleSelectWidget:function(e){this.updateSelectWidget(e)},handleWidgetDelete:function(e){var t=this;this.data.list.length-1===e?0===e?this.selectWidget={}:this.updateSelectWidget(e-1):this.updateSelectWidget(e+1),this.$nextTick((function(){t.data.list.splice(e,1)}))},handleEditTable:function(e,t){this.currentIndex=e,this.dialogEidtableTableVisible=!0},handleWidgetClone:function(e){var t=this,a=Date.parse((new Date).toString())+"_"+Math.ceil(99999*Math.random()),i=se(se({},this.data.list[e]),{},{options:se(se({},this.data.list[e].options),{},{remoteFunc:"func_"+a}),key:a,model:this.data.list[e].type+"_"+a,rules:this.data.list[e].rules||[]});"radio"!==this.data.list[e].type&&"checkbox"!==this.data.list[e].type&&"select"!==this.data.list[e].type||(i=se(se({},i),{},{options:se(se({},i.options),{},{options:i.options.options.map((function(e){return se({},e)}))})})),this.data.list.splice(e,0,i),this.$nextTick((function(){t.updateSelectWidget(e+1)}))},change1:function(e,t,a){},objectSpanMethod:function(e){for(var t=e.row,a=e.column,i=e.rowIndex,l=e.columnIndex,o=this.element.mergeRule,n=!1,s=0;s<o.length;s++){var r=o[s];if("function"==typeof r.mergeFunction&&(n=n||r.mergeFunction({row:t,column:a,rowIndex:i,columnIndex:l},{startRow:r.startRow,endRow:r.endRow,startColumn:r.startColumn,endColumn:r.endColumn})),n)return n}},editablecellclick:function(e,t,a,i){var l=(this.$refs.editTable1||this.$refs.editTable2).$el.querySelector(".el-table .editable-row_"+e.rowIndex+"-column_"+t.columnIndex+"-cell");this.isShift?(this.areaDom&&(Object(oe.b)(this.areaDom,"editable-red-tag"),this.areaDom=null),this.areaDom=l,this.$emit("update:areadom",{row:e,column:t}),Object(oe.a)(this.areaDom,"editable-red-tag")):(this.cellDom&&(Object(oe.b)(this.cellDom,"editable-blue-tag"),this.cellDom=null),this.cellDom=l,this.$emit("update:celldom",{row:e,column:t}),Object(oe.a)(this.cellDom,"editable-blue-tag"))},isDefaultOrOtherUi:function(e,t){if(this.uiselect.jz&&this.uiselect.jz.length>0){for(var a in this.uiselect.jz)if(this.uiselect.jz[a].rowIndex===e.rowIndex&&this.uiselect.jz[a].prop===t.prop)return"jz"}else this.uiselect.sb&&this.uiselect.sb.length;return"default"}},watch:{select:function(e){this.selectWidget=e},uiSelect:function(e){this.uiselect=e},selectWidget:{handler:function(e){this.$emit("update:select",e)},deep:!0},changeshowtt:function(e){this.changeShowTableTag=e}}},de=(a("3eeb"),Object(n.a)(re,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-form-item",{staticClass:"widget-view",class:{active:e.selectWidget.key===e.element.key,is_req:e.element.options.required},attrs:{label:"table"===e.element.type?"":e.element.name,"label-width":"table"===e.element.type?"0px":"auto"},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},["jizu"===e.element.type?[a("jizu-component")]:e._e(),"input"===e.element.type?[a("el-input",{style:{width:e.element.options.width},attrs:{placeholder:e.element.options.placeholder,disabled:e.element.options.disabled},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"textarea"===e.element.type?[a("el-input",{style:{width:e.element.options.width},attrs:{type:"textarea",rows:5,disabled:e.element.options.disabled,placeholder:e.element.options.placeholder},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"number"===e.element.type?[a("el-input-number",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled,"controls-position":e.element.options.controlsPosition},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"radio"===e.element.type?[a("el-radio-group",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}},e._l(e.element.options.options,(function(t,i){return a("el-radio",{key:t.value+i,style:{display:e.element.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e._v("\n        "+e._s(e.element.options.showLabel?t.label:t.value)+"\n      ")])})),1)]:e._e(),"checkbox"===e.element.type?[a("el-checkbox-group",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}},e._l(e.element.options.options,(function(t,i){return a("el-checkbox",{key:t.value+i,style:{display:e.element.options.inline?"inline-block":"block"},attrs:{label:t.value}},[e._v("\n        "+e._s(e.element.options.showLabel?t.label:t.value)+"\n      ")])})),1)]:e._e(),"time"===e.element.type?[a("el-time-picker",{style:{width:e.element.options.width},attrs:{"is-range":e.element.options.isRange,placeholder:e.element.options.placeholder,"start-placeholder":e.element.options.startPlaceholder,"end-placeholder":e.element.options.endPlaceholder,readonly:e.element.options.readonly,disabled:e.element.options.disabled,editable:e.element.options.editable,clearable:e.element.options.clearable,arrowControl:e.element.options.arrowControl},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"date"===e.element.type?[a("el-date-picker",{style:{width:e.element.options.width},attrs:{type:e.element.options.type,"is-range":e.element.options.isRange,placeholder:e.element.options.placeholder,"start-placeholder":e.element.options.startPlaceholder,"end-placeholder":e.element.options.endPlaceholder,readonly:e.element.options.readonly,disabled:e.element.options.disabled,editable:e.element.options.editable,clearable:e.element.options.clearable},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"rate"===e.element.type?[a("el-rate",{attrs:{max:e.element.options.max,disabled:e.element.options.disabled,"allow-half":e.element.options.allowHalf},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"color"===e.element.type?[a("el-color-picker",{attrs:{disabled:e.element.options.disabled,"show-alpha":e.element.options.showAlpha},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"select"===e.element.type?[a("el-select",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled,multiple:e.element.options.multiple,clearable:e.element.options.clearable,placeholder:e.element.options.placeholder},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}},e._l(e.element.options.options,(function(t){return a("el-option",{key:t.value,attrs:{value:t.value,label:e.element.options.showLabel?t.label:t.value}})})),1)]:e._e(),"switch"===e.element.type?[a("el-switch",{attrs:{disabled:e.element.options.disabled},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"slider"===e.element.type?[a("el-slider",{style:{width:e.element.options.width},attrs:{min:e.element.options.min,max:e.element.options.max,disabled:e.element.options.disabled,step:e.element.options.step,"show-input":e.element.options.showInput,range:e.element.options.range},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"imgupload"===e.element.type?[a("fm-upload",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled,width:e.element.options.size.width,height:e.element.options.size.height,token:"xxx",domain:"xxx"},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"cascader"===e.element.type?[a("el-cascader",{style:{width:e.element.options.width},attrs:{disabled:e.element.options.disabled,clearable:e.element.options.clearable,placeholder:e.element.options.placeholder,options:e.element.options.remoteOptions},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"table"===e.element.type?[e.changeShowTableTag?a("el-table",{key:"widgetFormItemTable_"+e.index+"_1",ref:"editTable1",staticStyle:{width:"100%","z-index":"9"},attrs:{data:e.element.rows,"span-method":e.objectSpanMethod(arguments,e.element.mergeRule),height:e.element.options.height,border:e.element.options.border,stripe:e.element.options.stripe,fit:e.element.options.fit,"show-header":e.element.options.showHeader,"highlight-current-row":e.element.options.highlightCurrentRow,"show-summary":e.element.options.showSummary,"cell-class-name":e.editableCellClassName},on:{"cell-click":e.editablecellclick}},[e._l(e.element.structColumns,(function(e){return[e.children&&e.children.length?a("table-column",{key:e.id,attrs:{prop:e.prop,label:e.label,width:e.width,"coloumn-header":e}}):a("el-table-column",{key:e.id,attrs:{prop:e.prop,label:e.label,width:e.width}})]}))],2):a("el-table",{key:"widgetFormItemTable_"+e.index+"_2",ref:"editTable2",staticStyle:{width:"100%","z-index":"9"},attrs:{data:e.element.rows,"span-method":e.objectSpanMethod(arguments,e.element.mergeRule),height:e.element.options.height,border:e.element.options.border,stripe:e.element.options.stripe,fit:e.element.options.fit,"show-header":e.element.options.showHeader,"highlight-current-row":e.element.options.highlightCurrentRow,"show-summary":e.element.options.showSummary,"cell-class-name":e.editableCellClassName},on:{"cell-click":e.editablecellclick}},[e._l(e.element.structColumns,(function(e){return[e.children&&e.children.length?a("table-column",{key:e.id,attrs:{prop:e.prop,label:e.label,width:e.width,"coloumn-header":e}}):a("el-table-column",{key:e.id,attrs:{prop:e.prop,label:e.label,width:e.width}})]}))],2)]:e._e(),"editor"===e.element.type?[a("vue-editor",{style:{width:e.element.options.width},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"blank"===e.element.type?[a("div",{staticStyle:{height:"50px",color:"#999",background:"#eee","line-height":"50px","text-align":"center"}},[e._v("\n      "+e._s(e.$t("fm.components.fields.blank"))+"\n    ")])]:e._e(),"text"===e.element.type?[a("span",[e._v(e._s(e.element.options.defaultValue))])]:e._e(),e.selectWidget.key===e.element.key?a("div",{staticClass:"widget-view-action"},["table"===e.element.type?a("i",{staticClass:"el-icon-edit",on:{click:function(t){return t.stopPropagation(),e.handleEditTable(e.index,e.element.rows)}}}):e._e(),a("i",{staticClass:"iconfont icon-icon_clone",on:{click:function(t){return t.stopPropagation(),e.handleWidgetClone(e.index)}}}),a("i",{staticClass:"iconfont icon-trash",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e(),e.selectWidget.key===e.element.key?a("div",{staticClass:"widget-view-drag"},[a("i",{staticClass:"iconfont icon-drag drag-widget"})]):e._e(),a("el-dialog",{attrs:{title:"表格编辑",visible:e.dialogEidtableTableVisible},on:{"update:visible":function(t){e.dialogEidtableTableVisible=t}}},[e.dialogEidtableTableVisible?a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.element.rows,"span-method":e.objectSpanMethod(arguments,e.element.mergeRule),height:e.element.options.height,border:e.element.options.border,stripe:e.element.options.stripe,fit:e.element.options.fit,"show-header":e.element.options.showHeader,"highlight-current-row":e.element.options.highlightCurrentRow,"show-summary":e.element.options.showSummary}},[e._l(e.element.structColumns,(function(t){return[t.children&&t.children.length?a("table-column",{key:t.id,attrs:{prop:t.prop,label:t.label,width:t.width,"coloumn-header":t,"show-edit":!0,"ui-select":e.uiselect}}):a("el-table-column",{key:t.id,attrs:{prop:t.prop,label:t.label,width:t.width},scopedSlots:e._u([{key:"default",fn:function(i){var l=i.row;return i.$index,["default"===e.isDefaultOrOtherUi(l,t)?a("el-input",{attrs:{placeholder:"请输入",size:"small"},on:{change:function(a){return e.change1(arguments,l,t)}},model:{value:l[t.prop],callback:function(a){e.$set(l,t.prop,a)},expression:"row[column.prop]"}}):e._e(),"jz"===e.isDefaultOrOtherUi(l,t)?a("jizu-component"):e._e()]}}],null,!0)})]}))],2):e._e()],1)],2):e._e()}),[],!1,null,"f2c8af98",null).exports);function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var pe={components:{Draggable:O.a,WidgetFormItem:de},props:["data","select","cellDom","areaDom","uiSelect"],data:function(){return{selectWidget:this.select,changeShowTableTag:!0,cloneDeep:null,cellDomBlue:this.cellDom,areaDomRed:this.areaDom,uiselect:this.uiSelect}},mounted:function(){document.body.ondrop=function(e){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(e.preventDefault(),e.stopPropagation())},this.cloneDeep=a("2ef0").cloneDeep},methods:{updateSelectWidget:function(e){"table"===this.data.list[e].type?this.selectWidget=this.cloneDeep(this.data.list[e]):this.selectWidget=this.data.list[e]},handleMoveEnd:function(e){e.newIndex,e.oldIndex},handleSelectWidget:function(e){this.updateSelectWidget(e)},handleWidgetAdd:function(e){var t,a=e.newIndex,i=(e.to,Date.parse(new Date)+"_"+Math.ceil(99999*Math.random()));t="table"===this.data.list[a].type?this.cloneDeep(this.data.list[a]):this.data.list[a],this.$set(this.data.list,a,ue(ue({},t),{},{options:ue(ue({},this.data.list[a].options),{},{remoteFunc:"func_"+i}),key:i,model:this.data.list[a].type+"_"+i,rules:[]})),"radio"!==this.data.list[a].type&&"checkbox"!==this.data.list[a].type&&"select"!==this.data.list[a].type||this.$set(this.data.list,a,ue(ue({},this.data.list[a]),{},{options:ue(ue({},this.data.list[a].options),{},{options:this.data.list[a].options.options.map((function(e){return ue({},e)}))})})),"grid"===this.data.list[a].type&&this.$set(this.data.list,a,ue(ue({},this.data.list[a]),{},{columns:this.data.list[a].columns.map((function(e){return ue({},e)}))})),this.updateSelectWidget(a)},handleWidgetColAdd:function(e,t,a){var i=e.newIndex,l=e.oldIndex,o=e.item;if(o.className.indexOf("data-grid")>=0)return"DIV"===o.tagName&&this.data.list.splice(l,0,t.columns[a].list[i]),t.columns[a].list.splice(i,1),!1;var n=Date.parse(new Date)+"_"+Math.ceil(99999*Math.random());this.$set(t.columns[a].list,i,ue(ue({},t.columns[a].list[i]),{},{options:ue(ue({},t.columns[a].list[i].options),{},{remoteFunc:"func_"+n}),key:n,model:t.columns[a].list[i].type+"_"+n,rules:[]})),"radio"!==t.columns[a].list[i].type&&"checkbox"!==t.columns[a].list[i].type&&"select"!==t.columns[a].list[i].type||this.$set(t.columns[a].list,i,ue(ue({},t.columns[a].list[i]),{},{options:ue(ue({},t.columns[a].list[i].options),{},{options:t.columns[a].list[i].options.options.map((function(e){return ue({},e)}))})})),this.selectWidget=t.columns[a].list[i]},handleWidgetDelete:function(e){var t=this;this.data.list.length-1===e?0===e?this.selectWidget={}:this.updateSelectWidget(e-1):this.updateSelectWidget(e+1),this.$nextTick((function(){t.data.list.splice(e,1)}))},changeTag:function(){var e=this;this.$nextTick((function(){e.changeShowTableTag=!e.changeShowTableTag}))}},watch:{select:function(e){this.selectWidget=e},uiSelect:function(e){this.uiselect=e},cellDomBlue:function(e){this.$emit("update:cellDom",e)},areaDomRed:function(e){this.$emit("update:areaDom",e)},selectWidget:{handler:function(e){this.$emit("update:select",e)},deep:!0}}},me=Object(n.a)(pe,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"widget-form-container"},[0===e.data.list.length?a("div",{staticClass:"form-empty"},[e._v(e._s(e.$t("fm.description.containerEmpty")))]):e._e(),a("el-form",{attrs:{size:e.data.config.size,"label-suffix":":","label-position":e.data.config.labelPosition,"label-width":e.data.config.labelWidth+"px"}},[a("draggable",e._b({on:{end:e.handleMoveEnd,add:e.handleWidgetAdd},model:{value:e.data.list,callback:function(t){e.$set(e.data,"list",t)},expression:"data.list"}},"draggable",{group:"people",ghostClass:"ghost",animation:200,handle:".drag-widget"},!1),[a("transition-group",{staticClass:"widget-form-list",attrs:{name:"fade",tag:"div"}},[e._l(e.data.list,(function(t,i){return["grid"===t.type?[t&&t.key?a("el-row",{key:t.key,staticClass:"widget-col widget-view",class:{active:e.selectWidget.key===t.key},attrs:{type:"flex",gutter:t.options.gutter?t.options.gutter:0,justify:t.options.justify,align:t.options.align},nativeOn:{click:function(t){return e.handleSelectWidget(i)}}},[e._l(t.columns,(function(i,l){return a("el-col",{key:l,attrs:{span:i.span?i.span:0}},[a("draggable",e._b({attrs:{"no-transition-on-drag":!0},on:{end:e.handleMoveEnd,add:function(a){return e.handleWidgetColAdd(a,t,l)}},model:{value:i.list,callback:function(t){e.$set(i,"list",t)},expression:"col.list"}},"draggable",{group:"people",ghostClass:"ghost",animation:200,handle:".drag-widget"},!1),[a("transition-group",{staticClass:"widget-col-list",attrs:{name:"fade",tag:"div"}},e._l(i.list,(function(t,l){return t.key?a("widget-form-item",{key:t.key,attrs:{element:t,select:e.selectWidget,index:l,data:i},on:{"update:select":function(t){e.selectWidget=t}}}):e._e()})),1)],1)],1)})),e.selectWidget.key===t.key?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"iconfont icon-trash",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(i)}}})]):e._e(),e.selectWidget.key===t.key?a("div",{staticClass:"widget-view-drag widget-col-drag"},[a("i",{staticClass:"iconfont icon-drag drag-widget"})]):e._e()],2):e._e()]:[t&&t.key?a("widget-form-item",{key:t.key,ref:"widget_form_item_table",refInFor:!0,attrs:{element:t,select:e.selectWidget,celldom:e.cellDomBlue,areadom:e.areaDomRed,index:i,data:e.data,"ui-select":e.uiselect,changeshowtt:e.changeShowTableTag},on:{"update:select":function(t){e.selectWidget=t},"update:celldom":function(t){e.cellDomBlue=t},"update:areadom":function(t){e.areaDomRed=t}}}):e._e()]]}))],2)],1)],1)],1)}),[],!1,null,null,null).exports,be={props:{visible:Boolean,loadingText:{type:String,default:""},title:{type:String,default:""},width:{type:String,default:"600px"},form:{type:Boolean,default:!0},action:{type:Boolean,default:!0}},computed:{show:function(){return!this.form||this.showForm}},data:function(){return{loading:!1,dialogVisible:this.visible,id:"dialog_"+(new Date).getTime(),showForm:!1}},methods:{close:function(){this.dialogVisible=!1},submit:function(){this.loading=!0,this.$emit("on-submit")},end:function(){this.loading=!1}},mounted:function(){},watch:{dialogVisible:function(e){var t=this;e?this.showForm=!0:(this.loading=!1,this.$emit("on-close"),setTimeout((function(){t.showForm=!1}),300))},visible:function(e){this.dialogVisible=e}}},fe=(a("d7cd"),Object(n.a)(be,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{ref:"elDialog",staticClass:"cus-dialog-container",attrs:{title:e.title,visible:e.dialogVisible,"close-on-click-modal":!1,"append-to-body":"",center:"",width:e.width,id:e.id},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.show?a("span",[e._t("default")],2):e._e(),e.action?a("span",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dialog-footer",attrs:{slot:"footer","element-loading-text":e.loadingText},slot:"footer"},[e._t("action",[a("el-button",{on:{click:e.close}},[e._v(e._s(e.$t("fm.actions.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(e._s(e.$t("fm.actions.confirm")))])])],2):e._e()])}),[],!1,null,null,null).exports),he=a("4d7f").a,ge=(a("32f9"),Object(n.a)(he,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fm-style"},[a("el-form",{ref:"generateForm",attrs:{"label-suffix":":",size:e.data.config.size,model:e.models,rules:e.rules,"label-position":e.data.config.labelPosition,"label-width":e.data.config.labelWidth+"px"}},[e._l(e.data.list,(function(t){return["grid"===t.type?[a("el-row",{key:t.key,attrs:{type:"flex",gutter:t.options.gutter?t.options.gutter:0,justify:t.options.justify,align:t.options.align}},e._l(t.columns,(function(t,i){return a("el-col",{key:i,attrs:{span:t.span}},[e._l(t.list,(function(t){return["blank"===t.type?a("el-form-item",{key:t.key,attrs:{label:t.name,prop:t.model}},[e._t(t.model,null,{model:e.models})],2):a("generate-form-item",{key:t.key,attrs:{models:e.models,remote:e.remote,rules:e.rules,widget:t},on:{"update:models":function(t){e.models=t},"input-change":e.onInputChange}})]}))],2)})),1)]:"blank"===t.type?[a("el-form-item",{key:t.key,attrs:{label:t.name,prop:t.model}},[e._t(t.model,null,{model:e.models})],2)]:[a("generate-form-item",{key:t.key,attrs:{models:e.models,rules:e.rules,widget:t,remote:e.remote},on:{"update:models":function(t){e.models=t},"input-change":e.onInputChange}})]]}))],2)],1)}),[],!1,null,null,null).exports),we={name:"TemplateTree",props:{treeData:{type:Array,default:function(){return[]}},syorjb:{type:String,default:""}},data:function(){return{filterText:"",data:this.treeData,defaultProps:{children:"children",label:"label"},syorjbParam:"sy"}},watch:{treeData:{handler:function(e){this.data=e},deep:!0},syorjb:function(e){this.syorjbParam=e},filterText:function(e){this.$refs.tree.filter(e)}},methods:{filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleExpNode:function(e,t,a){this.$emit("node-expand",e,t,a)},handleClickNode:function(e,t,a){},handleCheckChange:function(e,t,a){t?(this.$refs.tree.setCheckedKeys([e.dbid],!1),this.$emit("check-change",t,e)):this.$refs.tree.getCheckedNodes().length<1&&this.$emit("check-change",t,e)}}},ye=(a("d587"),Object(n.a)(we,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"template-tree-container"},[a("div",{staticClass:"search-container"},[a("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1),a("el-tree",{ref:"tree",staticClass:"filter-tree",attrs:{data:e.data,props:e.defaultProps,"show-checkbox":"","check-strictly":"","node-key":"dbid","filter-node-method":e.filterNode},on:{"node-expand":e.handleExpNode,"node-click":e.handleClickNode,"check-change":e.handleCheckChange}})],1)}),[],!1,null,"4dd6d992",null).exports),ve={name:"QuotaTable",props:{zbflZbData:{type:Array,default:function(){return[]}},syorjb:{type:String,default:""}},data:function(){return{value:"",tableData:this.zbflZbData,syorjbParam:"sy",currentColumn:null,oldColumn:null,addZhibiaoShowDialog:!1,zbAttribute:[]}},watch:{zbflZbData:{handler:function(e){this.tableData=e},deep:!0},syorjb:function(e){this.syorjbParam=e}},methods:{zbTableChange:function(e,t,a){this.$emit("change",e)},addZhibiao:function(){this.addZhibiaoShowDialog=!0},submitZhibiao:function(){this.zbflZbData.unshift(this.zbAttribute),this.$emit("update-zbflzbdata",this.zbflZbData),this.addZhibiaoShowDialog=!1},deleteZhibiao:function(){if(this.currentColumn){for(var e in this.zbflZbData)this.zbflZbData[e].dbid===this.currentColumn.dbid&&this.zbflZbData.splice(e,1);this.$emit("update-zbflzbdata",this.zbflZbData)}},zbTableCurrChange:function(e,t){this.currentColumn=e,this.oldColumn=t},cancel:function(){this.addZhibiaoShowDialog=!1}}},_e=(a("11d7"),Object(n.a)(ve,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"quota-table-container"},[a("div",{staticClass:"btn-container"},[a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:e.addZhibiao}},[e._v("增加指标")]),a("el-button",{attrs:{type:"danger"},on:{click:e.deleteZhibiao}},[e._v("删除指标")])],1)],1),a("div",{staticClass:"table-container"},[a("el-table",{attrs:{data:e.tableData,stripe:"","highlight-current-row":"","show-header":!1},on:{"row-click":e.zbTableChange,"current-change":e.zbTableCurrChange}},[a("el-table-column",{attrs:{prop:"dbid","min-width":"140",height:"0"}}),a("el-table-column",{attrs:{prop:"zbmc",height:"0"}})],1)],1),a("el-dialog",{attrs:{title:"新增指标",visible:e.addZhibiaoShowDialog},on:{"update:visible":function(t){e.addZhibiaoShowDialog=t}}},[a("el-form",{staticClass:"zhibiao-form",attrs:{"label-width":"100px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"指标名称",prop:"zbmc"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.zbAttribute.zbmc,callback:function(t){e.$set(e.zbAttribute,"zbmc",t)},expression:"zbAttribute.zbmc"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"指标编码",prop:"zbbm"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.zbAttribute.zbbm,callback:function(t){e.$set(e.zbAttribute,"zbbm",t)},expression:"zbAttribute.zbbm"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"指标单位",prop:"zbdw"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.zbAttribute.zbdw,callback:function(t){e.$set(e.zbAttribute,"zbdw",t)},expression:"zbAttribute.zbdw"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"数据类型",prop:"zbsjlx"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.zbAttribute.zbsjlx,callback:function(t){e.$set(e.zbAttribute,"zbsjlx",t)},expression:"zbAttribute.zbsjlx"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"数据源",prop:"zbsjy"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.zbAttribute.zbsjy,callback:function(t){e.$set(e.zbAttribute,"zbsjy",t)},expression:"zbAttribute.zbsjy"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"属性",prop:"zbshux"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.zbAttribute.zbshux,callback:function(t){e.$set(e.zbAttribute,"zbshux",t)},expression:"zbAttribute.zbshux"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"符号",prop:"zbfh"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.zbAttribute.zbfh,callback:function(t){e.$set(e.zbAttribute,"zbfh",t)},expression:"zbAttribute.zbfh"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"标准值",prop:"zbbzz"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.zbAttribute.zbbzz,callback:function(t){e.$set(e.zbAttribute,"zbbzz",t)},expression:"zbAttribute.zbbzz"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"期望值",prop:"zbqwz"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.zbAttribute.zbqwz,callback:function(t){e.$set(e.zbAttribute,"zbqwz",t)},expression:"zbAttribute.zbqwz"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"上限",prop:"zbshangx"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.zbAttribute.zbshangx,callback:function(t){e.$set(e.zbAttribute,"zbshangx",t)},expression:"zbAttribute.zbshangx"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"下限",prop:"zbxx"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.zbAttribute.zbxx,callback:function(t){e.$set(e.zbAttribute,"zbxx",t)},expression:"zbAttribute.zbxx"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"高限一级预警",prop:"zbgx1jyj"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.zbAttribute.zbgx1jyj,callback:function(t){e.$set(e.zbAttribute,"zbgx1jyj",t)},expression:"zbAttribute.zbgx1jyj"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"低限一级预警",prop:"zbdx1jyj"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.zbAttribute.zbdx1jyj,callback:function(t){e.$set(e.zbAttribute,"zbdx1jyj",t)},expression:"zbAttribute.zbdx1jyj"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"高限二级预警",prop:"zbgx2jyj"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.zbAttribute.zbgx2jyj,callback:function(t){e.$set(e.zbAttribute,"zbgx2jyj",t)},expression:"zbAttribute.zbgx2jyj"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"低限二级预警",prop:"zbdx2jyj"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.zbAttribute.zbdx2jyj,callback:function(t){e.$set(e.zbAttribute,"zbdx2jyj",t)},expression:"zbAttribute.zbdx2jyj"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"高限三级预警",prop:"zbgx3jyj"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.zbAttribute.zbgx3jyj,callback:function(t){e.$set(e.zbAttribute,"zbgx3jyj",t)},expression:"zbAttribute.zbgx3jyj"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"低限三级预警",prop:"zbdx3jyj"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.zbAttribute.zbdx3jyj,callback:function(t){e.$set(e.zbAttribute,"zbdx3jyj",t)},expression:"zbAttribute.zbdx3jyj"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公式",prop:"zbgx"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:""},model:{value:e.zbAttribute.zbgx,callback:function(t){e.$set(e.zbAttribute,"zbgx",t)},expression:"zbAttribute.zbgx"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.submitZhibiao}},[e._v("提交")]),a("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)],1)],1)],1)}),[],!1,null,"7f55748d",null).exports),xe={name:"ZhiBiaoConfig",components:{},mixins:[],props:{zbattribute:{type:Object,default:function(){}}},data:function(){return{zbAttribute:{zbmc:"",zbbm:"",zbdw:"",zbsjlx:"",zbsjy:"",zbshux:"",zbfh:"",zbbzz:"",zbqwz:"",zbshangx:"",zbxx:"",zbgx1jyj:"",zbdx1jyj:"",zbgx2jyj:"",zbdx2jyj:"",zbgx3jyj:"",zbdx3jyj:"",zbgx:""}}},created:function(){},mounted:function(){},methods:{},watch:{zbattribute:{handler:function(e){this.zbAttribute=e},deep:!0}}},ke=(a("d49e"),Object(n.a)(xe,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticStyle:{height:"100% !important"}},[a("el-main",[a("el-form",{staticClass:"zhibiao-form",attrs:{"label-width":"20px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"指标名称",prop:"zbmc"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:"",readonly:""},model:{value:e.zbAttribute.zbmc,callback:function(t){e.$set(e.zbAttribute,"zbmc",t)},expression:"zbAttribute.zbmc"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"指标编码",prop:"zbbm"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:"",readonly:""},model:{value:e.zbAttribute.zbbm,callback:function(t){e.$set(e.zbAttribute,"zbbm",t)},expression:"zbAttribute.zbbm"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"指标单位",prop:"zbdw"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:"",readonly:""},model:{value:e.zbAttribute.zbdw,callback:function(t){e.$set(e.zbAttribute,"zbdw",t)},expression:"zbAttribute.zbdw"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"数据类型",prop:"zbsjlx"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:"",readonly:""},model:{value:e.zbAttribute.zbsjlx,callback:function(t){e.$set(e.zbAttribute,"zbsjlx",t)},expression:"zbAttribute.zbsjlx"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"数据源",prop:"zbsjy"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:"",readonly:""},model:{value:e.zbAttribute.zbsjy,callback:function(t){e.$set(e.zbAttribute,"zbsjy",t)},expression:"zbAttribute.zbsjy"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"属性",prop:"zbshux"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:"",readonly:""},model:{value:e.zbAttribute.zbshux,callback:function(t){e.$set(e.zbAttribute,"zbshux",t)},expression:"zbAttribute.zbshux"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"符号",prop:"zbfh"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:"",readonly:""},model:{value:e.zbAttribute.zbfh,callback:function(t){e.$set(e.zbAttribute,"zbfh",t)},expression:"zbAttribute.zbfh"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"标准值",prop:"zbbzz"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:"",readonly:""},model:{value:e.zbAttribute.zbbzz,callback:function(t){e.$set(e.zbAttribute,"zbbzz",t)},expression:"zbAttribute.zbbzz"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"期望值",prop:"zbqwz"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:"",readonly:""},model:{value:e.zbAttribute.zbqwz,callback:function(t){e.$set(e.zbAttribute,"zbqwz",t)},expression:"zbAttribute.zbqwz"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"上限",prop:"zbshangx"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:"",readonly:""},model:{value:e.zbAttribute.zbshangx,callback:function(t){e.$set(e.zbAttribute,"zbshangx",t)},expression:"zbAttribute.zbshangx"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"下限",prop:"zbxx"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:"",readonly:""},model:{value:e.zbAttribute.zbxx,callback:function(t){e.$set(e.zbAttribute,"zbxx",t)},expression:"zbAttribute.zbxx"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"高限一级预警",prop:"zbgx1jyj"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:"",readonly:""},model:{value:e.zbAttribute.zbgx1jyj,callback:function(t){e.$set(e.zbAttribute,"zbgx1jyj",t)},expression:"zbAttribute.zbgx1jyj"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"低限一级预警",prop:"zbdx1jyj"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:"",readonly:""},model:{value:e.zbAttribute.zbdx1jyj,callback:function(t){e.$set(e.zbAttribute,"zbdx1jyj",t)},expression:"zbAttribute.zbdx1jyj"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"高限二级预警",prop:"zbgx2jyj"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:"",readonly:""},model:{value:e.zbAttribute.zbgx2jyj,callback:function(t){e.$set(e.zbAttribute,"zbgx2jyj",t)},expression:"zbAttribute.zbgx2jyj"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"低限二级预警",prop:"zbdx2jyj"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:"",readonly:""},model:{value:e.zbAttribute.zbdx2jyj,callback:function(t){e.$set(e.zbAttribute,"zbdx2jyj",t)},expression:"zbAttribute.zbdx2jyj"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"高限三级预警",prop:"zbgx3jyj"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:"",readonly:""},model:{value:e.zbAttribute.zbgx3jyj,callback:function(t){e.$set(e.zbAttribute,"zbgx3jyj",t)},expression:"zbAttribute.zbgx3jyj"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"低限三级预警",prop:"zbdx3jyj"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:"",readonly:""},model:{value:e.zbAttribute.zbdx3jyj,callback:function(t){e.$set(e.zbAttribute,"zbdx3jyj",t)},expression:"zbAttribute.zbdx3jyj"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公式",prop:"zbgx"}},[a("el-input",{attrs:{placeholder:"",size:"mini",label:"",readonly:""},model:{value:e.zbAttribute.zbgx,callback:function(t){e.$set(e.zbAttribute,"zbgx",t)},expression:"zbAttribute.zbgx"}})],1)],1)],1)],1)],1)],1)}),[],!1,null,"789e0650",null).exports),ze={name:"TableEditable",data:function(){return{dialogVisible:!0}},methods:{handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))}}},je=Object(n.a)(ze,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[e._v("这是一段信息")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)])}),[],!1,null,"fdaebeec",null).exports,Ce={list:[],config:{templateName:"",templateGrade:"0",publishDanWei:"",publisher:"",createTime:"",publishTime:"",templateStatus:"beta",enabler:"",enabledTime:""}},Oe=a("cb74"),$e=a("e81d"),Te=a("4020");function Se(e){return Object(Te.a)({url:"/tpridmp/process/dmp_report?method=query",method:"get",params:{dbid:e}})}function De(e,t,a){return Object(Te.a)({url:"/tpridmp/process/dmp_report?method=query_data",method:"get",params:{temp_id:e,version:t,baobid:a}})}function Ae(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return Pe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Pe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var i=0,l=function(){};return{s:l,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,n=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return n=e.done,e},e:function(e){s=!0,o=e},f:function(){try{n||null==a.return||a.return()}finally{if(s)throw o}}}}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}var Re={name:"fm-making-form",components:{TableEditable:je,AddColumn:Q,ZhiBiaoConfig:ke,QuotaTable:_e,TemplateTree:ye,HeaderConfig:J,TableConfig:Z,WidgetConfig:X,FormConfig:ee,WidgetForm:me,CusDialog:fe,GenerateForm:ge},props:{generateCode:{type:Boolean,default:!1},generateJson:{type:Boolean,default:!1},upload:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1}},data:function(){return{resetJson:!1,showAddColumn:!1,widgetForm:JSON.parse(JSON.stringify(Ce)),zhiBiaoSelect:{config:{}},leftConfigTab:"shiyan",configTab:"header",headerFormSelect:null,widgetFormSelect:null,previewVisible:!1,jsonVisible:!1,codeVisible:!1,uploadVisible:!1,remoteFuncs:{func_test:function(e){setTimeout((function(){e([{id:"1",name:"1111"},{id:"2",name:"2222"},{id:"3",name:"3333"}])}),2e3)},funcGetToken:function(e){request.get("http://tools-server.xiaoyaoji.cn/api/uptoken").then((function(t){e(t.uptoken)}))},upload_callback:function(e,t,a){}},widgetModels:{},blank:"",htmlTemplate:"",vueTemplate:"",jsonTemplate:"",uploadEditor:null,reportEditor:null,jsonCopyValue:"",jsonClipboard:null,jsonTemplateEg:Oe,jsonReportEg:$e,codeActiveName:"vue",dataActiveName:"template",bbflTreeData:[],bbflTreeDataForsy:[],bbflTreeDataForjb:[],zbflSelectData:[],zbflSelectDataForsy:[],zbflSelectDataForjb:[],syorjbParam:"sy",zbAttribute:null,selectTreeNode:null,cloneDeep:null,currentCheck:[],cellDomBlue:null,areaDomRed:null,uiSelect:{jz:[],sb:[]}}},mounted:function(){this.cloneDeep=a("2ef0").cloneDeep,this.query_bbfl(),this.query_zb()},methods:{transIdLabel:function(e){var t=this;return e.forEach((function(e){e.id=e.dbid,e.label=e.name,e.children&&(e.children=t.transIdLabel(e.children))})),e},setSybbTreeDataForBB:function(e){this["bbflTreeDataFor"+this.syorjbParam]=e},setSybbTreeDataForZB:function(e){this["zbflSelectDataFor"+this.syorjbParam]=e},query_bbfl:function(){var e,t=this;this["bbflTreeDataFor"+this.syorjbParam].length<1?(e=this.syorjbParam,Object(Te.a)({url:"/tpridmp/process/dmp_report?method=query_fl",method:"get",params:{syorjb:e}})).then((function(e){if(e.success){var a=Object(j.a)(e.dataset.datas[0].children);t.bbflTreeData=t.transIdLabel(a),t.setSybbTreeDataForBB(t.bbflTreeData)}})).catch((function(e){})):this.bbflTreeData=this["bbflTreeDataFor"+this.syorjbParam]},query_zb:function(){var e,t=this;this["zbflSelectDataFor"+this.syorjbParam].length<1?(e=this.syorjbParam,Object(Te.a)({url:"/jsjd/process/aqsc_jsjd_sybg_zb?method=query",method:"get",params:{syorjb:e}})).then((function(e){e.success&&(t.zbflSelectData=Object(j.a)(e.dataset.datas),t.setSybbTreeDataForZB(t.zbflSelectData))})).catch((function(e){})):this.zbflSelectData=this["zbflSelectDataFor"+this.syorjbParam]},handleExpNode:function(e,t,a){},selectTree:function(e,t){if(e){this.selectTreeNode=t;var a=this.selectTreeNode,i=a.dbid,l=a.is_temp;"1"===l&&this.queryTemplateData(i),"0"===l&&this.handleClear()}else this.selectTreeNode=null,this.handleClear()},zbSelChange:function(e){var t,a=this;void 0===e.dbid||null===e.dbid||""===e.dbid?(this.zbAttribute={},this.zbAttribute=e,this.zbAttribute.dbid=""):(t=e.dbid,Object(Te.a)({url:"/jsjd/process/aqsc_jsjd_sybg_zb?method=detail_zb",method:"get",params:{dbid:t}})).then((function(t){if(t.success){var i=t.dataset.datas[0];i.zbdw=i.zbuint,i.zbsjlx=i.datatype,i.zbsjy=i.attribute1,i.zbshux=i.attribute2,i.zbbzz=i.bzvalue,i.zbqwz=i.qwvalue,i.zbshangx=i.uplimit,i.zbxx=i.lowlimit,i.zbgx=e.jsgs,a.zbAttribute=i}})).catch((function(e){}))},updateZbflSelectData:function(e){this.setSybbTreeDataForZB(e)},saveReportJSON:function(){var e=this,t=this.widgetForm.list,a=[];!function e(t){var i,l=Ae(t);try{for(l.s();!(i=l.n()).done;){var o=i.value;if(o&&!(o instanceof Array&&0===o.length))if(o instanceof Array&&(o=o[0]),"table"===o.type){var n=Object.create(null);n.type=o.type,n.rows=o.rows,n.key=o.model,a.push(n)}else if("grid"===o.type){var s=o.columns;if(s){var r,d=[],c=Ae(s);try{for(c.s();!(r=c.n()).done;){var u=r.value;d.push(u.list)}}catch(e){c.e(e)}finally{c.f()}d&&e(d)}}else{var p=Object.create(null);p.type=o.type,p.key=o.model,p.value=o.options.defaultValue,p.datasource=o.options.datasource,p.table=o.options.table,p.field=o.options.field,p.otherfields="werks,bukrs,create_by,create_time,update_by,update_time,is_del",a.push(p)}}}catch(e){l.e(e)}finally{l.f()}}(t),this.jsonVisible=!0,this.jsonTemplate=a,this.$nextTick((function(){ace.edit("jsoneditor").session.setMode("ace/mode/json"),e.jsonClipboard||(e.jsonClipboard=new A.a(".json-btn"),e.jsonClipboard.on("success",(function(t){e.$message.success(e.$t("fm.message.copySuccess"))}))),e.jsonCopyValue=JSON.stringify(a)}))},queryReportData:function(){De("1013114899288600576",0,"14").then((function(e){e.success;var t=e.fromData;if(t){var a=JSON.parse(t);a.bukrs,a.datas,a.werks,a.type}}))},queryData:function(){var e=this;Promise.all([Se("1013114899288600576"),De("1013114899288600576",0,"14")]).then((function(t){var a=Object(z.a)(t,2),i=a[0],l=(i.success,i.dataset),o=a[1],n=(o.success,o.fromData),s=l.datas[0].json,r=JSON.parse(n),d=(r.bukrs,r.datas);r.werks,r.type,e.setJSON(JSON.parse(s),d)}))},createTemplate:function(){if(this.selectTreeNode){var e=this.selectTreeNode,t=e.dbid;"0"===e.is_temp?this.saveTemplateJSON("",t):this.$alert("选中的报表分类非分类节点","提示")}else this.$alert("未选中报表分类","提示")},saveTemplate:function(){if(this.selectTreeNode){var e=this.selectTreeNode,t=e.dbid,a=e.is_temp,i=e.parentid;"1"===a?this.saveTemplateJSON(t,i):this.$alert("选中的报表分类非模板节点","提示")}else this.$alert("未选中报表分类","提示")},deleteTemplate:function(){var e=this;if(this.selectTreeNode){var t=this.selectTreeNode,a=t.dbid;"1"===t.is_temp?function(e){return Object(Te.a)({url:"/tpridmp/process/dmp_report?method=delete",method:"get",params:{dbid:e}})}(a).then((function(t){t.success&&e.$alert("删除成功","提示")})):this.$alert("选中的报表分类非模板节点","提示")}else this.$alert("未选中报表分类","提示")},copyTemplate:function(){},saveTemplateJSON:function(e,t){var a=this,i=this.widgetForm,l=i.list,o=i.config,n=o.werks,s=o.bukrs,r=o.templateName,d=o.templateCode,c=o.templateGrade;if(n)if(s)if(r)if(d)if(c){var u=[];!function e(t){var a,i=Ae(t);try{for(i.s();!(a=i.n()).done;){var l=a.value;if(l&&!(l instanceof Array&&0===l.length))if(l instanceof Array&&(l=l[0]),"table"===l.type){var o=Object.create(null);o.type=l.type,o.key=l.model,o.datasource=l.options.datasource,o.table=l.options.table,o.dataTransformRules=l.options.dataTransformRules,u.push(o)}else if("grid"===l.type){var n=l.columns;if(n){var s,r=[],d=Ae(n);try{for(d.s();!(s=d.n()).done;){var c=s.value;r.push(c.list)}}catch(e){d.e(e)}finally{d.f()}r&&e(r)}}else{var p=Object.create(null);p.type=l.type,p.key=l.model,p.datasource=l.options.datasource,p.table=l.options.table,p.field=l.options.field,u.push(p)}}}catch(e){i.e(e)}finally{i.f()}}(l),function(e,t,a,i,l,o,n,s,r){return Te.a.post("/tpridmp/process/dmp_report?method=save",{dbid:e,werks:t,bukrs:a,name:i,code:l,json:JSON.stringify(o),version:0,tempjb:n,flid:s,tables:JSON.stringify(r)})}(e,n,s,r,d,this.widgetForm,c,t,u).then((function(e){e.success&&(a.query_bbfl(),a.$alert("操作成功","提示"))}))}else this.$alert("模板级别不允许为空","提示");else this.$alert("模板编码不允许为空","提示");else this.$alert("模板名称不允许为空","提示");else this.$alert("公司编码不允许为空","提示");else this.$alert("工厂编码不允许为空","提示")},queryTemplateData:function(e){var t=this;Se(e).then((function(e){var a=e.dataset.datas[0].json;t.setJSON(JSON.parse(a),null)}))},handlePreview:function(){this.previewVisible=!0},publish:function(){var e=this;if(this.selectTreeNode){var t=this.selectTreeNode,a=t.dbid,i=t.is_temp,l=t.json,o=t.version;"1"===i?function(e,t,a,i){return Te.a.post("/tpridmp/process/dmp_report?method=publish",{dbid:e,published_dw:t,json:JSON.stringify(a),version:i})}(a,null,l,o).then((function(t){t.success&&e.$alert("启用成功","提示")})):this.$alert("选中的报表分类非模板节点","提示")}else this.$alert("未选中报表分类","提示")},enable:function(){var e=this;if(this.selectTreeNode){var t=this.selectTreeNode,a=t.dbid;"1"===t.is_temp?function(e){return Object(Te.a)({url:"/tpridmp/process/dmp_report?method=enable",method:"get",params:{dbid:e}})}(a).then((function(t){t.success&&e.$alert("启用成功","提示")})):this.$alert("选中的报表分类非模板节点","提示")}else this.$alert("未选中报表分类","提示")},updateWidgetFormTable:function(){var e=this;this.$nextTick((function(){e.$refs.widgetForm&&e.$refs.widgetForm.changeTag()}))},getIndex:function(e,t){for(var a=-1,i=0;i<e.length;i++)e[i].label===t&&(a=i);return a},getLastIndex:function(e,t){for(var a=this.getIndex(e,t),i=this.getIndex(e,t)+1;i<e.length;i++)e[i].parent&&e[i].parent===t&&(a=i);return a},columnHasChildren:function(e,t){for(var a=0;a<e.length;a++){if(e[a].label===t)return!!e[a].children;if(e[a].children)return this.columnHasChildren(e[a].children,t)}},structColumnsAddColumn:function(e,t,a){var i=this;return e.forEach((function(e){e.label===t?(e.children||(e.children=[]),e.children.push(a)):e.children&&(e.children=i.structColumnsAddColumn(e.children,t,a))})),e},getChildrenNodeArra:function(e,t){var a=[];return t.length>0&&(e.forEach((function(e){-1!==t.indexOf(e.parent)&&a.push(e.label)})),a.push.apply(a,Object(j.a)(this.getChildrenNodeArra(e,a)))),a},removeTheLabelColumn:function(e,t){if(e){var a,i=[];for(i.push.apply(i,Object(j.a)(e));i.length>0;)if((a=i.pop()).label,a.children&&a.children.length>0){var l=a.children.length-1;for(l=a.children.length-1;l>=0;l--)i.push(a.children[l])}}},updateWidgetFormRowColumn:function(e,t){var a=this;this.widgetForm.list.forEach((function(i){if(i.key===a.widgetFormSelect.key){var l=a.cloneDeep(a.widgetFormSelect.columns);if("add-column"===e&&(0===a.currentCheck.length?(i.structColumns||(i.structColumns=[]),i.structColumns.push(t)):1===a.currentCheck.length&&(i.structColumns=a.structColumnsAddColumn(i.structColumns,a.currentCheck[0],t))),"remove-column"===e&&i.structColumns.length>0)for(var o=[i.structColumns],n=0,s=!1;n>=0;){for(var r=0;r<o[n].length;r++){if(!s&&o[n][r].label===t){o[n].splice(r,1),s=!0;break}!s&&o[n][r].children&&o.push(o[n][r].children)}if(s)break;if(!o[n++]){new Error("删除列出现错误,请重新创建table;如多次创建无效请联系管理员");break}}"merge-cell"===e&&(a.widgetFormSelect.mergeRule[t].mergeFunction=function(e,t){e.row,e.column;var a=e.rowIndex,i=e.columnIndex,l=[],o=[];if(t.startRow<t.endRow)for(var n=t.startRow;n<=t.endRow;n++)l.push(n);else if(t.startRow===t.endRow)l.push(t.startRow);else for(var s=t.endRow;s<=t.startRow;s++)l.push(s);if(t.startColumn<t.endColumn)for(var r=t.startColumn;r<=t.endColumn;r++)o.push(r);else if(t.startColumn===t.endColumn)o.push(t.startColumn);else for(var d=t.endColumn;d<=t.startColumn;d++)o.push(d);return 0===l.indexOf(a)&&0===o.indexOf(i)?[o.length,l.length]:-1!==l.indexOf(a)&&-1!==o.indexOf(i)?[0,0]:void 0});for(var d=0;d<l.length;d++)a.columnHasChildren(i.structColumns,l[d].label)&&(l.splice(d,1),d--);i.configColumns=a.cloneDeep(a.widgetFormSelect.columns),i.columns=l,i.rows=a.widgetFormSelect.rows,i.mergeRule=a.widgetFormSelect.mergeRule}}))},addColumn:function(){this.showAddColumn=!0},submitColumnInfo:function(e,t,a){0===this.currentCheck.length?this.widgetFormSelect.columns.push({prop:t,label:e,width:a}):1===this.currentCheck.length&&this.widgetFormSelect.columns.splice(this.getLastIndex(this.widgetFormSelect.columns,this.currentCheck[0])+1,0,{prop:t,label:e,width:a,parent:this.currentCheck[0]}),this.updateWidgetFormRowColumn("add-column",{prop:t,label:e,width:a}),this.showAddColumn=!1,this.updateWidgetFormTable()},removeColumn:function(e,t){this.widgetFormSelect.columns.splice(t,1);for(var a=this.getChildrenNodeArra(this.widgetFormSelect.columns,[e]),i=this.widgetFormSelect.columns.length-1;i>=0;i--)-1!==a.indexOf(this.widgetFormSelect.columns[i].label)&&this.widgetFormSelect.columns.splice(i,1);this.updateWidgetFormRowColumn("remove-column",e),this.updateWidgetFormTable()},addRow:function(){this.widgetFormSelect.columns.length>0&&(this.widgetFormSelect.rows.push({isColumnHeader:!1}),this.updateWidgetFormRowColumn("add-row"))},removeRow:function(){this.updateWidgetFormRowColumn("remove-row")},dragend:function(){this.updateWidgetFormRowColumn("drage-column"),this.updateWidgetFormTable()},mergeCell:function(e){this.updateWidgetFormRowColumn("merge-cell",e.substring(e.length-1)),this.widgetFormSelect.mergeRule.push({})},updateRowCheck:function(e){var t=this;for(var a in this.widgetFormSelect.rows)e.indexOf(a)>=0?this.widgetFormSelect.rows[a].isColumnHeader=!0:this.widgetFormSelect.rows[a].isColumnHeader=!1;this.widgetForm.list.forEach((function(e){e.key===t.widgetFormSelect.key&&(e.rows=t.widgetFormSelect.rows)}))},widgetConShowJz:function(){this.uiSelect.jz.push({rowIndex:this.cellDomBlue.row.rowIndex,prop:this.cellDomBlue.column.property})},handleGoGithub:function(){window.location.href="https://github.com/upcwangying/vue-form-making"},handleLeftConfigSelect:function(e){this.leftConfigTab=e,this.syorjbParam="shiyan"===e?"sy":"jb",this.query_bbfl(),this.query_zb()},handleConfigSelect:function(e){this.configTab=e},handleTest:function(){var e=this;this.$refs.generateForm.getData().then((function(t){var a=e.widgetForm.list,i=[];!function e(t){var a,l=Ae(t);try{for(l.s();!(a=l.n()).done;){var o=a.value;if(o&&!(o instanceof Array&&0===o.length))if(o instanceof Array&&(o=o[0]),"table"===o.type){var n=Object.create(null);n.type=o.type;var s=JSON.parse(JSON.stringify(o.rows));for(var r in s)s[r].isColumnHeader&&delete s[r];n.rows=s.filter((function(e){return!!e})),n.key=o.model,n.datasource=o.options.datasource,n.table=o.options.table,n.dataTransformRules=o.options.dataTransformRules,n.otherfields="werks,bukrs,create_by,create_time,update_by,update_time,is_del",i.push(n)}else if("grid"===o.type){var d=o.columns;if(d){var c,u=[],p=Ae(d);try{for(p.s();!(c=p.n()).done;){var m=c.value;u.push(m.list)}}catch(e){p.e(e)}finally{p.f()}u&&e(u)}}else{var b=Object.create(null);b.type=o.type,b.key=o.model,b.value=o.options.defaultValue,b.datasource=o.options.datasource,b.table=o.options.table,b.field=o.options.field,b.otherfields="werks,bukrs,create_by,create_time,update_by,update_time,is_del",i.push(b)}}}catch(e){l.e(e)}finally{l.f()}}(a);for(var l=0,o=i;l<o.length;l++){var n=o[l];Object.keys(t).includes(n.key)&&("table"===n.type?n.rows=t[n.key]:n.value=t[n.key])}e.$alert(i,"").catch((function(e){})),e.$refs.widgetPreview.end()})).catch((function(t){e.$refs.widgetPreview.end()}))},handleReset:function(){this.$refs.generateForm.reset()},handleGenerateJson:function(){var e=this;this.jsonVisible=!0,this.jsonTemplate=this.widgetForm,this.$nextTick((function(){ace.edit("jsoneditor").session.setMode("ace/mode/json"),e.jsonClipboard||(e.jsonClipboard=new A.a(".json-btn"),e.jsonClipboard.on("success",(function(t){e.$message.success(e.$t("fm.message.copySuccess"))}))),e.jsonCopyValue=JSON.stringify(e.widgetForm)}))},handleGenerateCode:function(){this.codeVisible=!0,this.htmlTemplate=R(JSON.stringify(this.widgetForm),"html"),this.vueTemplate=R(JSON.stringify(this.widgetForm),"vue"),this.$nextTick((function(){ace.edit("codeeditor").session.setMode("ace/mode/html"),ace.edit("vuecodeeditor").session.setMode("ace/mode/html")}))},handleUpload:function(){var e=this;this.uploadVisible=!0,this.$nextTick((function(){e.uploadEditor=ace.edit("uploadeditor"),e.reportEditor=ace.edit("reporteditor"),e.uploadEditor.session.setMode("ace/mode/json"),e.reportEditor.session.setMode("ace/mode/json")}))},handleUploadJson:function(){try{this.setJSON(JSON.parse(this.uploadEditor.getValue()),JSON.parse(this.reportEditor.getValue())),this.uploadVisible=!1}catch(e){this.$message.error(e.message),this.$refs.uploadJson.end()}},handleClear:function(){this.widgetForm=JSON.parse(JSON.stringify(Ce)),this.widgetFormSelect={}},clear:function(){this.handleClear()},getJSON:function(){return this.widgetForm},getHtml:function(){return R(JSON.stringify(this.widgetForm))},setJSON:function(e,t){var a=e.list;if(a){var i,l=Ae(a);try{for(l.s();!(i=l.n()).done;){var o=i.value,n=o.type,s=o.model;if("table"!==n&&t){var r,d=Ae(t);try{for(d.s();!(r=d.n()).done;){var c=r.value;c.type===n&&c.key===s&&(o.options.defaultValue=c.value,o.options.datasource=c.datasource,o.options.table=c.table,o.options.field=c.field)}}catch(e){d.e(e)}finally{d.f()}}}}catch(e){l.e(e)}finally{l.f()}}this.widgetForm=e,e.list.length>0&&(this.widgetFormSelect=e.list[0])},handleInput:function(e){this.blank=e},handleDataChange:function(e,t,a){}},watch:{widgetForm:{deep:!0,handler:function(e){}},$lang:function(e){this._loadComponents()}}},Ee=(a("b6fe"),Object(n.a)(Re,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"fm-style"},[a("el-container",{staticClass:"fm2-container"},[e.showAddColumn?a("div",{staticClass:"add-column-mask-container"}):e._e(),a("el-header",{attrs:{height:"45"}},[a("el-row",{staticClass:"btn-container"},[a("el-button",{on:{click:e.createTemplate}},[e._v("创建")]),a("el-button",{on:{click:e.saveTemplate}},[e._v("保存")]),a("el-button",{on:{click:e.deleteTemplate}},[e._v("删除")]),a("el-button",{on:{click:e.copyTemplate}},[e._v("参考创建")]),a("el-button",{on:{click:e.handlePreview}},[e._v("预览")]),a("el-button",{on:{click:e.publish}},[e._v("发布")]),a("el-button",{on:{click:e.enable}},[e._v("启用")])],1)],1),a("el-main",{staticClass:"fm2-main"},[e.showAddColumn?a("add-column",{staticClass:"add-column-container",attrs:{"zb-data":e.zbflSelectData},on:{submit:e.submitColumnInfo,cancel:function(t){e.showAddColumn=!1}}}):e._e(),a("el-container",[a("el-aside",{staticClass:"widget-config-container"},[a("el-container",[a("el-header",{attrs:{height:"45px"}},[a("div",{staticClass:"config-tab left",class:{active:"shiyan"===e.leftConfigTab},on:{click:function(t){return e.handleLeftConfigSelect("shiyan")}}},[e._v(e._s(e.$t("fm.left.shiyan.title")))]),a("div",{staticClass:"config-tab left",class:{active:"jiandu"===e.leftConfigTab},on:{click:function(t){return e.handleLeftConfigSelect("jiandu")}}},[e._v(e._s(e.$t("fm.left.jiandu.title")))])]),a("el-main",{staticClass:"config-content"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"shiyan"===e.leftConfigTab,expression:"leftConfigTab ==='shiyan'"}],staticStyle:{height:"100%"}},[a("el-container",{staticStyle:{height:"50% !important"}},[a("el-header",{attrs:{height:"40px"}},[a("div",{staticClass:"config-tab all middle"},[e._v("报表分类")])]),a("el-main",[a("template-tree",{attrs:{syorjb:e.syorjbParam,"tree-data":e.bbflTreeData},on:{"node-expand":e.handleExpNode,"check-change":e.selectTree}})],1)],1),a("el-container",{staticStyle:{height:"50% !important"}},[a("el-header",{attrs:{height:"40px"}},[a("div",{staticClass:"config-tab all middle"},[e._v("指标分类")])]),a("el-main",[a("quota-table",{attrs:{syorjb:e.syorjbParam,"zbfl-zb-data":e.zbflSelectData},on:{change:e.zbSelChange,"update-zbflzbdata":e.updateZbflSelectData}})],1)],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"jiandu"===e.leftConfigTab,expression:"leftConfigTab ==='jiandu'"}],staticStyle:{height:"100%"}},[a("el-container",{staticStyle:{height:"50% !important"}},[a("el-header",{attrs:{height:"40px"}},[a("div",{staticClass:"config-tab all middle"},[e._v("报表分类")])]),a("el-main",[a("template-tree",{attrs:{syorjb:e.syorjbParam,"tree-data":e.bbflTreeData},on:{"node-expand":e.handleExpNode}})],1)],1),a("el-container",{staticStyle:{height:"50% !important"}},[a("el-header",{attrs:{height:"40px"}},[a("div",{staticClass:"config-tab all middle"},[e._v("指标分类")])]),a("el-main",[a("quota-table",{attrs:{syorjb:e.syorjbParam,"zbfl-zb-data":e.zbflSelectData},on:{change:e.zbSelChange,"update-zbflzbdata":e.updateZbflSelectData}})],1)],1)],1)])],1)],1),a("el-container",{staticClass:"center-container",attrs:{direction:"vertical"}},[a("el-main",{class:{"widget-empty":0===e.widgetForm.list.length}},[e.resetJson?e._e():a("widget-form",{ref:"widgetForm",attrs:{data:e.widgetForm,select:e.widgetFormSelect,"cell-dom":e.cellDomBlue,"area-dom":e.areaDomRed,"ui-select":e.uiSelect},on:{"update:select":function(t){e.widgetFormSelect=t},"update:cellDom":function(t){e.cellDomBlue=t},"update:cell-dom":function(t){e.cellDomBlue=t},"update:areaDom":function(t){e.areaDomRed=t},"update:area-dom":function(t){e.areaDomRed=t}}})],1)],1),a("el-aside",{staticClass:"widget-config-container",staticStyle:{width:"400px"}},[a("el-container",[a("el-header",{attrs:{height:"45px"}},[a("div",{staticClass:"config-tab",class:{active:"header"===e.configTab},on:{click:function(t){return e.handleConfigSelect("header")}}},[e._v(e._s(e.$t("fm.config.header.title")))]),a("div",{staticClass:"config-tab",class:{active:"zhibiao"===e.configTab},on:{click:function(t){return e.handleConfigSelect("zhibiao")}}},[e._v(e._s(e.$t("fm.config.zhibiao.title")))]),a("div",{staticClass:"config-tab",class:{active:"widget"===e.configTab},on:{click:function(t){return e.handleConfigSelect("widget")}}},[e._v(e._s(e.$t("fm.config.widget.title")))]),a("div",{staticClass:"config-tab",class:{active:"form"===e.configTab},on:{click:function(t){return e.handleConfigSelect("form")}}},[e._v(e._s(e.$t("fm.config.form.title")))])]),a("el-main",{staticClass:"config-content"},[a("header-config",{directives:[{name:"show",rawName:"v-show",value:"header"===e.configTab,expression:"configTab ==='header'"}],attrs:{data:e.headerFormSelect}}),a("zhi-biao-config",{directives:[{name:"show",rawName:"v-show",value:"zhibiao"===e.configTab,expression:"configTab ==='zhibiao'"}],attrs:{data:e.zhiBiaoSelect,zbattribute:e.zbAttribute}}),a("widget-config",{directives:[{name:"show",rawName:"v-show",value:"widget"===e.configTab,expression:"configTab ==='widget'"}],ref:"widgetConfig",attrs:{data:e.widgetFormSelect,currcheck:e.currentCheck},on:{"update:currcheck":function(t){e.currentCheck=t},"show-add-column":e.addColumn,"show-add-row":e.addRow,"drag-end":e.dragend,"remove-column":e.removeColumn,"remove-row":e.removeRow,"merge-cell":e.mergeCell,"update-row-check":e.updateRowCheck,"show-jz":e.widgetConShowJz}}),a("form-config",{directives:[{name:"show",rawName:"v-show",value:"form"===e.configTab,expression:"configTab ==='form'"}],attrs:{data:e.widgetForm.config}})],1)],1)],1),a("cus-dialog",{ref:"widgetPreview",attrs:{visible:e.previewVisible,width:"1000px",form:""},on:{"on-close":function(t){e.previewVisible=!1}}},[e.previewVisible?a("generate-form",{ref:"generateForm",attrs:{insite:"true",data:e.widgetForm,value:e.widgetModels,remote:e.remoteFuncs},on:{"on-change":e.handleDataChange},scopedSlots:e._u([{key:"blank",fn:function(t){return[e._v("\n                Width "),a("el-input",{staticStyle:{width:"100px"},model:{value:t.model.blank.width,callback:function(a){e.$set(t.model.blank,"width",a)},expression:"scope.model.blank.width"}}),e._v("\n                Height "),a("el-input",{staticStyle:{width:"100px"},model:{value:t.model.blank.height,callback:function(a){e.$set(t.model.blank,"height",a)},expression:"scope.model.blank.height"}})]}}],null,!1,3315428021)}):e._e(),a("template",{slot:"action"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleTest}},[e._v(e._s(e.$t("fm.actions.getData")))]),a("el-button",{on:{click:e.handleReset}},[e._v(e._s(e.$t("fm.actions.reset")))])],1)],2),a("cus-dialog",{ref:"uploadJson",attrs:{visible:e.uploadVisible,width:"800px",form:""},on:{"on-close":function(t){e.uploadVisible=!1},"on-submit":e.handleUploadJson}},[a("el-alert",{attrs:{type:"info",title:e.$t("fm.description.uploadJsonInfo")}}),a("el-tabs",{staticStyle:{"box-shadow":"none"},attrs:{type:"border-card"},model:{value:e.dataActiveName,callback:function(t){e.dataActiveName=t},expression:"dataActiveName"}},[a("el-tab-pane",{attrs:{label:"Template Data",name:"template"}},[a("div",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"uploadeditor"}},[e._v(e._s(e.jsonTemplateEg))])]),a("el-tab-pane",{attrs:{label:"Report Data",name:"report"}},[a("div",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"reporteditor"}},[e._v(e._s(e.jsonReportEg))])])],1)],1),a("cus-dialog",{ref:"jsonPreview",attrs:{visible:e.jsonVisible,width:"800px",form:""},on:{"on-close":function(t){e.jsonVisible=!1}}},[a("div",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"jsoneditor"}},[e._v(e._s(e.jsonTemplate))]),a("template",{slot:"action"},[a("el-button",{staticClass:"json-btn",attrs:{type:"primary","data-clipboard-text":e.jsonCopyValue}},[e._v(e._s(e.$t("fm.actions.copyData")))])],1)],2),a("cus-dialog",{ref:"codePreview",attrs:{visible:e.codeVisible,width:"800px",form:"",action:!1},on:{"on-close":function(t){e.codeVisible=!1}}},[a("el-tabs",{staticStyle:{"box-shadow":"none"},attrs:{type:"border-card"},model:{value:e.codeActiveName,callback:function(t){e.codeActiveName=t},expression:"codeActiveName"}},[a("el-tab-pane",{attrs:{label:"Vue Component",name:"vue"}},[a("div",{staticStyle:{height:"500px",width:"100%"},attrs:{id:"vuecodeeditor"}},[e._v(e._s(e.vueTemplate))])]),a("el-tab-pane",{attrs:{label:"HTML",name:"html"}},[a("div",{staticStyle:{height:"500px",width:"100%"},attrs:{id:"codeeditor"}},[e._v(e._s(e.htmlTemplate))])])],1)],1)],1)],1)],1)],1)}),[],!1,null,"7b3ec378",null).exports),Fe={fm:{components:{fields:{input:"Input",textarea:"Textarea",number:"Number",radio:"Radio",checkbox:"Checkbox",time:"Time",date:"Date",rate:"Rate",color:"Color",select:"Select",switch:"Switch",slider:"Slider",text:"Text",blank:"Custom",fileupload:"File",imgupload:"Image",editor:"Editor",cascader:"Cascader",table:"Table",grid:"Grid",tabs:"Tabs",divider:"Divider",jizu:"Unit"},basic:{title:"Basic Component"},advance:{title:"Advance Component"},layout:{title:"Layout"}},description:{containerEmpty:"You can drag and drop the item from the right to add components",configEmpty:"Please add a component",tableEmpty:"You can drag and drop the item from the right to add components",uploadJsonInfo:"There is the format of JSON below，you can overwrite it with you own JSON code"},message:{copySuccess:"Copy Successed",validError:"Form data validation failed"},actions:{import:"Import JSON",clear:"Clear",preview:"Preview",json:"Generate JSON",code:"Generate Code",getData:"Get Data",reset:"Reset",copyData:"Copy Data",cancel:"Cancel",confirm:"Confirm",addOption:"Add Option",addColumn:"Add Column",addRow:"Add Row",addTab:"Add Tab",upload:"Upload",add:"Add"},left:{shiyan:{title:"试验报表"},jiandu:{title:"监督报表"}},config:{header:{title:"Header Form"},zhibiao:{title:"指标信息"},form:{title:"Form Attribute",labelPosition:{title:"Label Position",left:"Left",right:"Right",top:"Top"},labelWidth:"Label Width",size:"Size",customClass:"Custom Class"},widget:{title:"Component Attribute",model:"ID",name:"Name",datasource:"DataSource",table:"Table",field:"Field",width:"Width",height:"Height",size:"Size",labelWidth:"Label Width",custom:"Custom",placeholder:"Placeholder",layout:"Layout",block:"Block",inline:"Inline",contentPosition:"Content Position",left:"Left",right:"Right",center:"Center",showInput:"Display Input Box",min:"Minimum",max:"Maximum",step:"Step",multiple:"Multiple",filterable:"Searchable",allowHalf:"Allow Half",showAlpha:"Support transparency options",showLabel:"Show lable",option:"Option",staticData:"Static Data",remoteData:"Remote Date",remoteFunc:"Remote Function",value:"Value",label:"Label",childrenOption:"Sub-Option",defaultValue:"Default Value",showType:"Display type",isRange:"Range Time",isTimestamp:"Get time stamp",startPlaceholder:"Placeholder of start time",endPlaceholder:"Placeholder of end time",format:"Format",limit:"Maximum Upload Count",isQiniu:"Upload with Qiniu Cloud",tokenFunc:"A funchtin to get Qiniu Uptoken",imageAction:"Picture upload address",tip:"Text Prompt",action:"Upload Address",defaultType:"Data Type",string:"String",object:"Object",array:"Array",number:"Number",boolean:"Boolean",integer:"Integer",float:"Float",url:"URL",email:"E-mail",hex:"Hexadecimal",gutter:"Grid Spacing",rowOption:"Row Configuration",columnOption:"Column Configuration",span:"Grid spans",justify:"Horizontal Arrangement",justifyStart:"Start",justifyEnd:"End",justifyCenter:"Center",justifySpaceAround:"Space Around",justifySpaceBetween:"Space Between",align:"Vertical Arrangement",alignTop:"Top",alignMiddle:"Middle",alignBottom:"Bottom",type:"Type",default:"Default",card:"Tabs",borderCard:"Border-Card",tabPosition:"Tab Position",top:"Top",bottom:"Bottom",tabOption:"Label Configuration",tabName:"Tab Name",customClass:"Custom Class",attribute:"Attribute Action",dataBind:"Data Binding",hidden:"Hidden",rows:"Rows",columns:"Columns",stripe:"Stripe",border:"Border",fit:"Fit",showHeader:"Show Header",highlightCurrentRow:"Highlight Current Row",showSummary:"Show Summary",readonly:"Read Only",disabled:"Disabled",editable:"Text box is editable",clearable:"Display Clear Button",arrowControl:"Use the arrow for time selection",isDelete:"Deletable",isEdit:"Editable",showPassword:"Display Password",validate:"Validation",required:"Required",patternPlaceholder:"Fill in the regular expressions",newOption:"New Option",tab:"Tab",validatorRequired:"Required",validatorType:"Invaild format",validatorPattern:"Unmatched pattern"}},upload:{preview:"preview",edit:"replace",delete:"delete"}}},Ve={fm:{components:{fields:{input:"单行文本",textarea:"多行文本",number:"计数器",radio:"单选框组",checkbox:"多选框组",time:"时间选择器",date:"日期选择器",rate:"评分",color:"颜色选择器",select:"下拉选择框",switch:"开关",slider:"滑块",text:"文字",blank:"自定义区域",fileupload:"文件",imgupload:"图片",editor:"编辑器",cascader:"级联选择器",table:"表格布局",grid:"栅格布局",tabs:"标签页",divider:"分割线",jizu:"机组"},basic:{title:"基础字段"},advance:{title:"高级字段"},layout:{title:"布局字段"}},description:{containerEmpty:"从右侧拖拽来添加字段",configEmpty:"请添加字段",tableEmpty:"从右侧拖拽来添加字段",uploadJsonInfo:"JSON格式如下，直接复制生成的json覆盖此处代码点击确定即可"},message:{copySuccess:"复制成功",validError:"表单数据校验失败"},actions:{import:"导入JSON",clear:"清空",preview:"预览",json:"生成JSON",code:"生成代码",getData:"获取数据",reset:"重置",copyData:"复制数据",cancel:"取 消",confirm:"确 定",addOption:"添加选项",addColumn:"添加列",addRow:"添加行",addTab:"添加标签",upload:"点击上传",add:"添加"},left:{shiyan:{title:"试验报表"},jiandu:{title:"监督报表"}},config:{header:{title:"自由表头"},zhibiao:{title:"指标信息"},form:{title:"表单属性",labelPosition:{title:"标签对齐方式",left:"左对齐",right:"右对齐",top:"顶部对齐"},labelWidth:"表单标签宽度",size:"组件尺寸",customClass:"自定义Class"},widget:{title:"字段属性",model:"字段标识",name:"标题",datasource:"数据源",table:"数据表",field:"字段",width:"宽度",height:"高度",size:"大小",labelWidth:"标签宽度",custom:"自定义",placeholder:"占位内容",layout:"布局方式",block:"块级",inline:"行内",contentPosition:"文案位置",left:"左侧",right:"右侧",center:"居中",showInput:"显示输入框",min:"最小值",max:"最大值",step:"步长",multiple:"是否多选",filterable:"是否可搜索",allowHalf:"允许半选",showAlpha:"支持透明度选择",showLabel:"是否显示标签",option:"选项",staticData:"静态数据",remoteData:"远端数据",remoteFunc:"远端方法",value:"值",label:"标签",childrenOption:"子选项",defaultValue:"默认值",showType:"显示类型",isRange:"是否为范围选择",isTimestamp:"是否获取时间戳",startPlaceholder:"开始时间占位内容",endPlaceholder:"结束时间占位内容",format:"格式",limit:"最大上传数",isQiniu:"使用七牛上传",tokenFunc:"获取七牛Token方法",imageAction:"图片上传地址",tip:"提示说明文字",action:"上传地址",defaultType:"绑定数据类型",string:"字符串",object:"对象",array:"数组",number:"数字",boolean:"布尔值",integer:"整数",float:"浮点数",url:"URL地址",email:"邮箱地址",hex:"十六进制",gutter:"栅格间隔",rowOption:"行配置项",columnOption:"列配置项",span:"栅格值",justify:"水平排列方式",justifyStart:"左对齐",justifyEnd:"右对齐",justifyCenter:"居中",justifySpaceAround:"两侧间隔相等",justifySpaceBetween:"两端对齐",align:"垂直排列方式",alignTop:"顶部对齐",alignMiddle:"居中",alignBottom:"底部对齐",type:"风格类型",default:"默认",card:"选项卡",borderCard:"卡片化",tabPosition:"选项卡位置",top:"顶部",bottom:"底部",tabOption:"标签配置项",tabName:"标签名称",customClass:"自定义Class",attribute:"操作属性",dataBind:"数据绑定",hidden:"隐藏",rows:"行数",columns:"列数",stripe:"斑马纹",border:"边框",fit:"列的宽度自撑开",showHeader:"显示表头",highlightCurrentRow:"高亮当前行",showSummary:"在表尾显示合计行",readonly:"完全只读",disabled:"禁用",editable:"文本框可输入",clearable:"显示清除按钮",arrowControl:"使用箭头进行时间选择",isDelete:"删除",isEdit:"编辑",showPassword:"显示密码",validate:"校验",required:"必填",patternPlaceholder:"填写正则表达式",newOption:"新选项",tab:"标签页",validatorRequired:"必须填写",validatorType:"格式不正确",validatorPattern:"格式不匹配"}},upload:{preview:"预览",edit:"替换",delete:"删除"}}};function Me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a("0f59"),a("eb0d"),a("b20f");var Le=function(e,t,a,i){a?(a("en-US",Ie(Ie({},a("en-US")),Fe)),a("zh-CN",Ie(Ie({},a("zh-CN")),Ve)),e.config.lang=t):i?(i.setLocaleMessage("en-US",Ie(Ie({},i.messages["en-US"]),Fe)),i.setLocaleMessage("zh-CN",Ie(Ie({},i.messages["zh-CN"]),Ve)),i.locale=t):(e.use(w.a),e.locale("en-US",Ie(Ie({},e.locale("en-US")),Fe)),e.locale("zh-CN",Ie(Ie({},e.locale("zh-CN")),Ve)),e.config.lang=t)};Ee.install=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lang:"zh-CN",locale:null,i18n:null};Le(e,t.lang,t.locale,t.i18n),e.component(Ee.name,Ee)},ge.install=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lang:"zh-CN",locale:null,i18n:null};Le(e,t.lang,t.locale,t.i18n),e.component(ge.name,ge)};var Ne=[Ee,ge],qe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lang:"zh-CN",locale:null,i18n:null};Le(e,t.lang,t.locale,t.i18n),Ne.forEach((function(t){e.component(t.name,t)}))};"undefined"!=typeof window&&window.Vue&&qe(window.Vue);var Be={install:qe,MakingForm:Ee,GenerateForm:ge};function We(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function Ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?We(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):We(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}l.default.use(w.a),l.default.use(y.a);var Je={header:{title:"FormMaking",document:"Docs",pricing:"Pricing",advanced:"Advanced"}},He={header:{title:"表单设计器",document:"使用文档",pricing:"商业授权",advanced:"高级版本"}};l.default.locale("en-US",Ue(Ue({},_.a),Je)),l.default.locale("zh-CN",Ue(Ue({},k.a),He)),l.default.config.lang="zh-CN",l.default.use(h.a,{size:"small"}),l.default.use(Be),l.default.config.productionTip=!1,new l.default({router:b,render:function(e){return e(s)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var i=a("e332");a.n(i).a},"5cd6":function(e,t,a){},"692c":function(e,t,a){},7987:function(e,t,a){},"852f":function(e,t,a){"use strict";var i=a("692c");a.n(i).a},"94ed":function(e,t,a){"use strict";a("6b54");var i=a("4020");function l(e,t){return Object(i.a)({url:e,method:"get",params:t})}var o={name:"JizuComponent",props:{value:{type:[String,Array],default:""},werks:{type:String,default:""},bukrs:{type:String,default:""},pholder:{type:String,default:""},disabled:{type:Boolean,default:!1},disempty:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},valueField:{type:String,default:"dbid"},displayField:{type:String,default:"txt"},size:{type:String,default:"small"},collapseTags:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0}},data:function(){return{options:[],svalue:"",spholder:"请选择",tooltipContentStr:"",tooltipDisable:!0}},watch:{value:function(e,t){this.svalue=this.value,this.$emit("input",this.value)},werks:function(e,t){t!==e&&this.queryData()}},created:function(){this.queryData()},mounted:function(){this.svalue=this.value,this.spholder=this.pholder},methods:{selectChange:function(){var e=this;if(this.$emit("input",this.svalue),"string"==typeof this.value){for(var t={},a=0;a<this.options.length;a++){var i=this.options[a];i[this.valueField]===this.svalue&&(t=i)}this.$emit("change",this.svalue,t)}else{for(var l=[],o=0;o<this.svalue.length;o++)for(var n=this.svalue[o],s=0;s<this.options.length;s++){var r=this.options[s];n===r[this.valueField]&&l.push(r)}var d=this.svalue.map((function(t){for(var a=0;a<e.options.length;a++)if(e.options[a].dbid===t)return e.options[a].txt}));this.tooltipContentStr=d.toString(),this.tooltipDisable=!this.multiple||this.svalue.length<2,this.$emit("change",this.svalue,l)}},queryData:function(e){var t=this,a={is_del:0,werks:this.werks,bukrs:this.bukrs};Object.assign(a,e),l("/sjgl/process/aqsc_zsj_jizupz?m=query",a).then((function(e){t.options=e.dataset.datas})).catch((function(){t.$message({type:"error",message:"查询数据失败"})}))},reLoad:function(e){var t=this;l("/sjgl/process/aqsc_zsj_jizupz?m=query",e).then((function(e){t.options=e.dataset.datas})).catch((function(){t.$message({type:"error",message:"查询数据失败"})}))}}},n=a("2877"),s=Object(n.a)(o,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tooltip",{staticClass:"item",attrs:{disabled:e.tooltipDisable,effect:"dark",content:e.tooltipContentStr,placement:"top"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.spholder,filterable:"",clearable:e.clearable,disabled:e.disabled,"collapse-tags":e.collapseTags,size:e.size,multiple:e.multiple},on:{change:e.selectChange},model:{value:e.svalue,callback:function(t){e.svalue=t},expression:"svalue"}},[e._l(e.options,(function(t){return a("el-option",{key:t.index,attrs:{label:t[e.displayField],value:t[e.valueField]}})})),a("el-option",{directives:[{name:"show",rawName:"v-show",value:e.disempty,expression:"disempty"}],attrs:{value:"_null",label:"空"}})],2)],1)}),[],!1,null,"e9758696",null);t.a=s.exports},b20f:function(e,t,a){},b6fe:function(e,t,a){"use strict";var i=a("4e97");a.n(i).a},c504:function(e,t,a){},c7f0:function(e,t,a){"use strict";a("8e6e"),a("ac6a"),a("456d");var i=a("bd86"),l=(a("20d6"),a("c5f6"),a("c82c")),o=a.n(l),n=a("310e"),s=a.n(n),r=a("cea2");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a("0808");var u={components:{Draggable:s.a},props:{value:{type:Array,default:function(){return[]}},width:{type:Number,default:100},height:{type:Number,default:100},token:{type:String,default:""},domain:{type:String,default:""},multiple:{type:Boolean,default:!1},length:{type:Number,default:9},isQiniu:{type:Boolean,default:!1},isDelete:{type:Boolean,default:!1},min:{type:Number,default:0},meitu:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},action:{type:String,default:""},disabled:{type:Boolean,default:!1}},data:function(){return{fileList:this.value.map((function(e){return{key:e.key?e.key:(new Date).getTime()+"_"+Math.ceil(99999*Math.random()),url:e.url,percent:e.percent?e.percent:100,status:e.status?e.status:"success"}})),viewer:null,uploadId:"upload_"+(new Date).getTime(),editIndex:-1,meituIndex:-1}},computed:{miniWidth:function(){return this.width>this.height?this.height:this.width}},mounted:function(){this.$emit("input",this.fileList)},methods:{handleChange:function(){for(var e=this,t=this.$refs.uploadInput.files,a=function(a){var i=t[a],l=new FileReader,o=(new Date).getTime()+"_"+Math.ceil(99999*Math.random());l.readAsDataURL(i),l.onload=function(){e.editIndex>=0?(e.$set(e.fileList,e.editIndex,{key:o,url:l.result,percent:0,status:"uploading"}),e.editIndex=-1):e.fileList.push({key:o,url:l.result,percent:0,status:"uploading"}),e.$nextTick((function(){e.isQiniu?e.uplaodAction2(l.result,i,o):e.uplaodAction(l.result,i,o)}))}},i=0;i<t.length;i++)a(i);this.$refs.uploadInput.value=[]},uplaodAction:function(e,t,a){var i=this,l=(this.fileList.findIndex((function(e){return e.key===a})),new XMLHttpRequest),o=this.action;l.open("POST",o,!0);var n=new FormData;n.append("file",t),l.send(n),l.onreadystatechange=function(){if(4===l.readyState){var e=JSON.parse(l.response);e&&e.url?(i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),c(c({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))]),{},{url:e.url,percent:100})),setTimeout((function(){i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),c(c({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))]),{},{status:"success"})),i.$emit("input",i.fileList)}),200)):(i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),c(c({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))]),{},{status:"error"})),i.fileList.splice(i.fileList.findIndex((function(e){return e.key===a})),1))}},l.onprogress=function(e){e.total&&e.loaded&&i.$set(i.fileList[i.fileList.findIndex((function(e){return e.key===a}))],"percent",e.loaded/e.total*100)}},uplaodAction2:function(e,t,a){var i=this;r.upload(t,a,this.token,{fname:a,mimeType:[]},{useCdnDomain:!0,region:r.region.z2}).subscribe({next:function(e){i.$set(i.fileList[i.fileList.findIndex((function(e){return e.key===a}))],"percent",parseInt(e.total.percent))},error:function(e){i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),c(c({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))]),{},{status:"error"})),i.fileList.splice(i.fileList.findIndex((function(e){return e.key===a})),1)},complete:function(e){i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),c(c({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))]),{},{url:i.domain+e.key,percent:100})),setTimeout((function(){i.$set(i.fileList,i.fileList.findIndex((function(e){return e.key===a})),c(c({},i.fileList[i.fileList.findIndex((function(e){return e.key===a}))]),{},{status:"success"})),i.$emit("input",i.fileList)}),200)}})},handleRemove:function(e){this.fileList.splice(this.fileList.findIndex((function(t){return t.key===e})),1)},handleEdit:function(e){this.editIndex=this.fileList.findIndex((function(t){return t.key===e})),this.$refs.uploadInput.click()},handleMeitu:function(e){this.$emit("on-meitu",this.fileList.findIndex((function(t){return t.key===e})))},handleAdd:function(){this.disabled||(this.editIndex=-1,this.$refs.uploadInput.click())},handlePreviewFile:function(e){var t=this;this.viewer&&this.viewer.destroy(),this.uploadId="upload_"+(new Date).getTime(),this.$nextTick((function(){t.viewer=new o.a(document.getElementById(t.uploadId)),t.viewer.view(t.fileList.findIndex((function(t){return t.key===e})))}))}},watch:{fileList:{deep:!0,handler:function(e){}}}},p=(a("3516"),a("2877")),m=Object(p.a)(u,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fm-uplaod-container",attrs:{id:e.uploadId}},[a("draggable",e._b({staticClass:"drag-img-list",attrs:{"no-transition-on-drag":!0},model:{value:e.fileList,callback:function(t){e.fileList=t},expression:"fileList"}},"draggable",{group:e.uploadId,ghostClass:"ghost",animation:200},!1),e._l(e.fileList,(function(t){return a("div",{key:t.key,staticClass:"upload-file",class:{uploading:"uploading"==t.status,"is-success":"success"==t.status,"is-diabled":e.disabled},style:{width:e.width+"px",height:e.height+"px"},attrs:{id:t.key}},[a("img",{attrs:{src:t.url}}),"uploading"==t.status?a("el-progress",{staticClass:"upload-progress",attrs:{width:.9*e.miniWidth,type:"circle",percentage:t.percent}}):e._e(),"success"==t.status?a("label",{staticClass:"item-status"},[a("i",{staticClass:"el-icon-upload-success el-icon-check"})]):e._e(),e.disabled?e._e():a("div",{staticClass:"uplaod-action",style:{height:e.miniWidth/4+"px"}},[a("i",{staticClass:"iconfont icon-tupianyulan",style:{"font-size":e.miniWidth/8+"px"},attrs:{title:e.$t("fm.upload.preview")},on:{click:function(a){return e.handlePreviewFile(t.key)}}}),e.isEdit?a("i",{staticClass:"iconfont icon-sync1",style:{"font-size":e.miniWidth/8+"px"},attrs:{title:e.$t("fm.upload.edit")},on:{click:function(a){return e.handleEdit(t.key)}}}):e._e(),e.isDelete&&e.fileList.length>e.min?a("i",{staticClass:"iconfont icon-delete",style:{"font-size":e.miniWidth/8+"px"},attrs:{title:e.$t("fm.upload.delete")},on:{click:function(a){return e.handleRemove(t.key)}}}):e._e()])],1)})),0),a("div",{directives:[{name:"show",rawName:"v-show",value:(!e.isQiniu||e.isQiniu&&e.token)&&e.fileList.length<e.length,expression:"(!isQiniu || (isQiniu && token)) && fileList.length < length"}],staticClass:"el-upload el-upload--picture-card",class:{"is-disabled":e.disabled},style:{width:e.width+"px",height:e.height+"px"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleAdd(t)}}},[a("i",{staticClass:"el-icon-plus",style:{fontSize:e.miniWidth/4+"px",marginTop:-e.miniWidth/8+"px",marginLeft:-e.miniWidth/8+"px"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleAdd(t)}}}),e.multiple?a("input",{ref:"uploadInput",staticClass:"el-upload__input upload-input",style:{width:0,height:0},attrs:{accept:"image/*",multiple:"",type:"file",name:"file"},on:{change:e.handleChange}}):a("input",{ref:"uploadInput",staticClass:"el-upload__input upload-input",style:{width:0,height:0},attrs:{accept:"image/*",type:"file",name:"file"},on:{change:e.handleChange}})])],1)}),[],!1,null,null,null);t.a=m.exports},ca11:function(e,t,a){},cb74:function(e){e.exports=JSON.parse('{"list":[{"type":"input","icon":"icon-input","options":{"width":"100%","defaultValue":"","required":false,"dataType":"string","pattern":"","placeholder":"","disabled":false,"datasource":"","table":"","field":"","remoteFunc":"func_1599353105000_34942"},"name":"单行文本","key":"1599353105000_34942","model":"input_1599353105000_34942","rules":[{"type":"string","message":"单行文本格式不正确"}]},{"type":"textarea","icon":"icon-diy-com-textarea","options":{"width":"100%","defaultValue":"","required":false,"disabled":false,"pattern":"","placeholder":"","datasource":"","table":"","field":"","remoteFunc":"func_1599353108000_69884"},"name":"多行文本","key":"1599353108000_69884","model":"textarea_1599353108000_69884","rules":[]},{"type":"table","icon":"icon-table","columns":[],"rows":[],"options":{"rows":4,"columns":3,"stripe":false,"height":"300","border":false,"fit":true,"showHeader":true,"highlightCurrentRow":false,"showSummary":false,"remoteFunc":"func_1599354168000_64341"},"name":"表格布局","key":"1599354168000_64341","model":"table_1599354168000_64341","rules":[]}],"config":{"werks":"","bukrs":"","templateName":"","templateCode":"","templateGrade":"group","publishDanWei":"","publisher":"","createTime":"","publishTime":"","templateStatus":"beta","enabler":"","enabledTime":""}}')},cf05:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABvUlEQVRoQ+2Zu0oEMRSGv6PiBbSwFBtfxFofQPAJBAvBUhYsRS3sBAtBSwsfRqxVLLQWFa+IOvJDVpZlx8FMMkuWBMLCzCaTL+c/l8wYJa0oihawXXa/4estM9vt9UyrAFgAZoGXhhfc/bgjM9v3AVgERoFp4L2PELUAxoBJ4A4o+gRxamYHvhZoA8gKl6kDTAFnfYAIZoFh4A14bBgiiA9IQgJ4AD5db4ojKMA98OSi0nxDBN55QGG004llgU6AL2CuAUlFs8A3oGQ4A7xGtEZUgCFgHNDvcySIQzM7CZEHuiUkC2jhE8CKmZ1HAiidtqoWqvKBDFDXYgNvgWVXjUrjKiMELEdVxPkA2hJSqN0DruruaMn4azO7+a8T6wCx6hY9AqirKQsr/mvxqk4FJUe+iBiFvGqhDBBQTl4W2ALWnTwkEeUAyUUSknzU1XRN/dZVqgHX/TvVsc+RMnkA+cBGjO30mNOrGk0eIHkJ7QBrKTtxzgMezlo2xCsPbAJLKddCermbzwMBZdRzqoE/D2QJZQlV7ED2gfxeqKaTZAllCWUJleyA+1KfM3FNhVQOz1EoR6FKkfz9h+Ql9AMULqdAUwjXZgAAAABJRU5ErkJggg=="},d49e:function(e,t,a){"use strict";var i=a("c504");a.n(i).a},d587:function(e,t,a){"use strict";var i=a("537b");a.n(i).a},d7cd:function(e,t,a){"use strict";var i=a("5cd6");a.n(i).a},df36:function(e,t,a){},e332:function(e,t,a){},e81d:function(e){e.exports=JSON.parse('[{"baobid":"","type":"input","key":"input_1599353105000_34942","value":"单行文本测试内容","datasource":"a","table":"b","field":"c"},{"baobid":"","type":"textarea","key":"textarea_1599353108000_69884","value":"多行文本测试内容","datasource":"a1","table":"b1","field":"c1"},{"type":"table","baobid":"12","model":"model1","rows":[{"jz":"#1","shebid":"","zbid1":"2016-05-02","zbid2":"王小虎","zbid3":"上海市普陀区金沙江路 1518 弄"},{"jz":"#2","shebid":"","zbid1":"2016-05-04","zbid2":"王小虎","zbid3":"上海市普陀区金沙江路 1517 弄"},{"jz":"#3","shebid":"","zbid1":"2016-05-01","zbid2":"王小虎","zbid3":"上海市普陀区金沙江路 1519 弄"}],"key":"table_1599354168000_64341"}]')},eb0d:function(e,t,a){}});